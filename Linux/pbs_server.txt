pbs_server(8B)                                                                                        PBS                                                                                        pbs_server(8B)

NAME
       pbs_server - start a pbs batch server

SYNOPSIS
       pbs_server [-a  active]  [-c] [-d config_path] [-e] [-F] [-f] [-h] [-l location] [-p port] [-t type] [-v] [-A acctfile] [-D] [-H hostname] [-L logfile] [-M mom_port] [-n don't send hierarchy] [-R mom‐
       RPP_port] [-S scheduler_port] [--about] [--ha] [--help] [--version]

DESCRIPTION
       The pbs_server command starts the operation of a batch server on the local host.  Typically, this command will be in a local boot file such as /etc/rc.local .  If the batch server is already in execu‐
       tion, pbs_server will exit with an error.  To insure that the pbs_server command is not runnable by the general user community, the server will only execute if its real and effective uid is zero.

       The  server will record a diagnostic message in a log file for any error occurrence.  The log files are maintained in the server_logs directory below the home directory of the server.  If the log file
       cannot be opened, the diagnostic message is written to the system console.

OPTIONS
       -a active      Specifies if scheduling is active or not.  This sets the server attribute scheduling. If the option argument is "true" ("True", "t", "T", or "1"), the server is active and the  PBS  job
                      scheduler  will  be  called.  If the argument is "false" ("False", "f", "F", or "0), the server is idle, and the scheduler will not be called and no jobs will be run.  If this option is
                      not specified, the server will retain the prior value of the scheduling attribute.

       -c             Wait 10 minutes before contacting moms. Any mom reporting in does not get pinged if starting pbs_server before moms.

       -d config_path Specifies the path of the directory which is home to the servers configuration files, PBS_HOME.  A host may have multiple servers.  Each server must have a different  configuration  di‐
                      rectory.  The default configuration directory is given by the symbol $PBS_SERVER_HOME which is typically /usr/spool/PBS.

       -e             Accept status update from any mom. Adds node to nodes file.

       -F             Do not fork. Use when running under systemd.

       -f             Force overwrite of server database.

       -h             Print help information.

       -l location    Specifies where to find the scheduler (for example, Moab) when it does not reside on the same host as Torque.  Example: pbs_server -1 <other_host>:<other_port>

       -p port        Specifies  the port number on which the server will listen for batch requests.  If multiple servers are running on a single host, each must have its own unique port number.  This option
                      is for use in testing with multiple batch systems on a single host.

       -t type        If the job is rerunnable or restartable, and -t create is specified, the server will discard any existing configuration files, queues, and jobs, and initialize  configuration  files  to
                      the default values.  The server is idled.  If -t is not specified, job states will remain the same.

       -v             Shows version.

       -A acctfile    Specifies an absolute path name of the file to use as the accounting file.  If not specified, the file is named for the current date in the PBS_HOME/server_priv/accounting directory.

       -D             Debug mode. Do not fork.

       -H hostname    Causes  the  server  to start under a different hostname as obtained from gethostname(2). Useful for servers with multiple network interfaces to support connections from clients over an
                      interface that has a hostname assigned that differs from the one that is returned by gethostname(2).

       -L logfile     Specifies an absolute path name of the file to use as the log file.  If not specified, the file is one named for the current date in the PBS_HOME/server_logs directory, see the  -d  op‐
                      tion.

       -M mom_port    Specifies  the  host name and/or port number on which the server should connect the job executor, MOM.  The option argument, mom_conn, is one of the forms: host_name, [:]port_number, or
                      host_name:port_number.  If host_name not specified, the local host is assumed.   If port_number is not specified, the default port is assumed.  See the -M option for pbs_mom(8).

       -n don't send heirarchy
                      Directs pbs_server to not send the hierarchy to all the MOMs on startup. Instead, the hierarchy is only sent if a MOM requests it. This flag works only in conjunction with the local MOM
                      hierarchy feature.

       -R mom_RPPport Specifies the port number on which the the server should query the up/down status of Mom.    See the -R option for pbs_mom(8).

       -S scheduler_port
                      Specifies  the port number to which the server should connect when contacting the Scheduler.  By default pbs_server looks for the scheduler on the loopback address at port 15004. The -S
                      option changes the default to the value given in the option argument. The option argument, scheduler_conn, is of the same syntax as under the -M option.

       --about        Shows information about pbs_server.

       --ha           Enables high availability mode.

       --help         Prints help information.

       --version      Shows version and commit information.

FILES
       $PBS_SERVER_HOME/server_priv
                      default directory for configuration files, typically /usr/spool/pbs/server_priv

       $PBS_SERVER_HOME/server_logs
                      directory for log files recorded by the server.

Signal Handling
       On receipt of the following signals, the server performs the defined action:

       SIGHUP The current server log and accounting log are closed and reopened.  This allows for the prior log to be renamed and a new log started from the time of the signal.

       SIGINT Causes an orderly shutdown of pbs_server.

       SIGUSR1, SIGUSR2
              Causes server to increase and decrease logging levels, respectively.

       SIGTERM
              Causes an orderly shutdown of pbs_server.

       SIGSHUTDN
              On systems (Unicos) where SIGSHUTDN is defined, it also causes an orderly shutdown of the server.

       SIGPIPE
              This signal is ignored.

       All other signals have their default behavior installed.

EXIT STATUS
       If the server command fails to begin batch operation, the server exits with a value greater than zero.

SEE ALSO
       qsub (1B), pbs_connect(3B), pbs_mom(8B), pbs_sched_basl(8B), pbs_sched_tcl(8B), pbsnodes(8B), qdisable(8B), qenable(8B), qmgr(1B), qrun(8B), qstart(8B), qstop(8B), qterm(8B), and the PBS External Ref‐
       erence Specification.

Local                                                                                                                                                                                            pbs_server(8B)
