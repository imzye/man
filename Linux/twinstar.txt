TWINSTAR(8)                                                                           User Contributed Perl Documentation                                                                           TWINSTAR(8)

NAME
       twinstar - Control the Twinstar feature of a Xorcom Astribank

SYNOPSIS
       twinstar {status|jump|enable-wd|disable-wd|ports}

DESCRIPTION
       twinstar is a tool to control the Twinstar (dual USB port) of a Xorcom Astribank. There is a single and mandatory argument which is the command to run. That command operates on all the Astribanks
       connected to the system.

       Technically all the commands are implemented using Dahdi::Xpp::Mpp which in turn uses astribank_tool. Thus using thus tool will require root permissions or otherwise read/write permissions to the USB
       device.

       The twinstar may be in watchdog mode, which means that it will jump to the remote host if it loses contact with the local host. This can happen if the machine is powered down or hangs or even if the
       xpp drivers are unloaded. Which is why the standard twinstar scripts put the Astribanks in twinstar mode on startup and remove it on normal shutdown.

       An Astribank will only jump to the other host (either if asked explicitly or by the watchdog) only if there is a different Astribank connected to the other port and running. Which is why all of this
       has no effect on systems that don't need this functionality.

       The command are:

   status
       Shows the current status of all Astribanks. Note that it only shows Astribanks whose current active USB port is the one connected to this computer.

       Example output:

        DEVICE          PORT       WATCHDOG        POWER0     POWER1
        usb:001/010     0          on              yes        yes
        usb:001/011     0          on              yes        yes

       For each Astribank on the system that has Twinstar support we get:

       Device
           The address of the device. This is the bus address, e.g. the address you see in lsusb / dahdi_hardware.

       Port
           The active USB port on the Astribank. This should be always '0' on the master and always 1 on the slave.

       Watchdog
           on if the watchdog is triggered in the Atribank or off otherwise.

       Power0, Power1
           Shows which ports of this Astribank are connected to a USB port of a running computer. This only shows whether or not the USB host provides power.

   ports
       Shows the same 'Port' column of the status command.

   jump
       Command all the Astribanks to jump to the other port. This works regardless the watchdog mode is enabled or not. But requires that there is power on the other port.

   enable-wd
       Enables watchdog mode.

   disable-wd
       Disables watchdog mode.

FILES
       twinstar mostly uses astribank_tool which in turn mostly uses USB files under /dev/bus/usb .

perl v5.26.3                                                                                       2016-03-01                                                                                       TWINSTAR(8)
