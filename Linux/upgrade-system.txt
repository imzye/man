UPGRADE-SYSTEM.CONF(5)                                                                        Debian GNU/Linux                                                                       UPGRADE-SYSTEM.CONF(5)

NAME
       upgrade-system.conf - Configuration file for upgrade-system(8)

DESCRIPTION
       upgrade-system.conf  is  the configuration file for the upgrade-system(8) Debian administration utility. This file specifies command options used for calling apt-get(8) and deborphan(1) within up‐
       grade-system(8).

       Lines starting with a hash mark ("#") and empty lines are ignored.

ENVIRONMENT
       The configuration file may contain any of these environment variables:

   UPDATEOPTS
       This variable specifies the apt-get(8) options to use with the update command. Built-in defaults are:

       UPDATEOPTS="--quiet --quiet --yes --allow-releaseinfo-change-codename --allow-releaseinfo-change-version"

       Consult the apt-get(8) manual page to check which options are available for any particular version, before setting this variable.

   UPGRADEOPTS
       This variable specifies which one of dist-upgrade or upgrade to execute as the apt-get(8) upgrade command and the command options. Built-in defaults are:

       UPGRADEOPTS="--purge --option APT::Get::Build-Dep-Automatic=true --auto-remove --fix-broken dist-upgrade"

       Consult the apt-get(8) manual page to check which options are available for any particular version, before setting this variable.

   ORPHANOPTS
       This variable specifies deborphan(1) command options. Built-in defaults are:

       ORPHANOPTS="--libdevel --guess-all --no-guess-debug"

       Consult the deborphan(1) manual page to check which options are available for any particular version, before setting this variable.

   CLEANOPTS
       This variable selects which one of autoclean or clean to execute as the apt-get(8) cleaning command. Built-in default is:

       CLEANOPTS="clean"

       Consult the apt-get(8) manual page to check which options are available for any particular version, before setting this variable.

   FLAUSCH
       Setting this variable enables various extremely pedantic purge options.

       This variable has no default value.

       This feature is totally experimental; usage is strongly discouraged and should only be attempted by truly experienced Debian administrators. It can be used to sanitize a Debian system after a dis‐
       tribution upgrade or to detect packages that don't conform to the Debian Policy. Setting the variable as a command line environment, only when needed, is considered a safer approach than adding it
       to upgrade-system.conf variables.

       sudo FLAUSCH=jawohl upgrade-system

NOTES
       In the absence of a configuration file, upgrade-system(8) will use the above built-in default values.

       apt-get(8) --purge --option APT::Get::Build-Dep-Automatic=true options roughly correspond to deborphan(1) --find-config --libdevel.

       Because upgrade-system(8) is an APT front-end, all precautions relating to APT configuration should be observed. Pay special attention to:

       /etc/apt/preferences

       To prevent untested packages from overwriting stable ones, setting this combination of APT preferences is recommended:

              Package: *
              Pin: release a=stable
              Pin-Priority: 990

              Package: *
              Pin: release a=testing
              Pin-Priority: 500

              Package: *
              Pin: release a=unstable
              Pin-Priority: 100

              Package: *
              Pin: release a=experimental
              Pin-Priority: 1

       This enforces a priority on packages from Stable, yet still allows ones from Testing, Unstable or Experimental to get installed via appropriate apt-get(8) options to override the default release.

BUGS
       Certain combinations of deborphan(1) options purge a dangerous quantity of packages, potentially leaving a system in a severely crippled state.

AUTHORS
       Copyright © 2004-2025 Martin-Éric Racine <martin-eric.racine@iki.fi>
       Copyright © 2004,2012 Christoph Schindler <hop@30hopsmax.at>
       Copyright © 2003-2004 Martin Zdrahal <martin.zdrahal@konflux.at>

LICENSE
       SPDX-License-Identifier: GPL-2.0-or-later

SEE ALSO
       apt-get(8), apt_preferences(5), deborphan(1), upgrade-system(8).

https://tracker.debian.org/pkg/upgrade-system                                                    2025-09-17                                                                          UPGRADE-SYSTEM.CONF(5)
