

FENCE_AGENT(8)                                                                              System Manager's Manual                                                                              FENCE_AGENT(8)

NAME
       fence_amt - Fence agent for AMT

DESCRIPTION
       fence_amt is an I/O Fencing agent which can be used with Intel AMT. This agent calls support software amttool(http://www.kraxel.org/cgit/amtterm/).

       fence_amt  accepts  options on the command line as well as from stdin. Fenced sends parameters through stdin when it execs the agent. fence_amt can be run by itself with command line options.  This is
       useful for testing and for turning outlets on or off from scripts.

       Vendor URL: http://www.intel.com/

PARAMETERS

       -o, --action=[action]
              Fencing action (Default Value: reboot)

       -b, --boot-option=[option]
              Change the default boot behavior of the machine. (pxe|hd|hdsafe|cd|diag)

       -a, --ip=[ip]
              IP address or hostname of fencing device

       -u, --ipport=[port]
              TCP/UDP port to use for connection with device (Default Value: 16994)

       -m, --method=[method]
              Method to fence (onoff|cycle) (Default Value: onoff)

       -p, --password=[password]
              Login password or passphrase

       -S, --password-script=[script]
              Script to run to retrieve password

       -n, --plug=[ip]
              IP address or hostname of fencing device (together with --port-as-ip)

       -q, --quiet
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       -v, --verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       --verbose-level
              Level of debugging detail in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration  (i.e.,  on  stdin).

       -D, --debug-file=[debugfile]
              Write debug information to given file

       -V, --version
              Display version information and exit

       -h, --help
              Display help and exit

       --amttool-path=[path]
              Path to amttool binary (Default Value: /usr/bin/amttool)

       --delay=[seconds]
              Wait X seconds before fencing is started (Default Value: 0)

       --disable-timeout=[true/false]
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       --login-timeout=[seconds]
              Wait X seconds for cmd prompt after login (Default Value: 5)

       --port-as-ip
              Make "port/plug" to be an alias to IP address

       --power-timeout=[seconds]
              Test X seconds for status change after ON/OFF (Default Value: 20)

       --power-wait=[seconds]
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       --shell-timeout=[seconds]
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       --retry-on=[attempts]
              Count of attempts to retry power on (Default Value: 1)

       --use-sudo
              Use sudo (without password) when calling 3rd party software

       --sudo-path=[path]
              Path to sudo binary (Default Value: /usr/bin/sudo)

ACTIONS

       on     Power on machine.

       off    Power off machine.

       reboot Reboot machine.

       status This returns the status of the plug/virtual machine.

       monitor
              Check the health of fence device

       metadata
              Display the XML metadata describing this resource.

       manpage
               The operational behavior of this is not known.

       validate-all
              Validate if all required parameters are entered.

STDIN PARAMETERS

       action Fencing action (Default Value: reboot)

       boot_option
              Change the default boot behavior of the machine. (pxe|hd|hdsafe|cd|diag)

       ip     IP address or hostname of fencing device Obsoletes: ipaddr

       ipport TCP/UDP port to use for connection with device (Default Value: 16994)

       method Method to fence (onoff|cycle) (Default Value: onoff)

       password
              Login password or passphrase Obsoletes: passwd

       password_script
              Script to run to retrieve password Obsoletes: passwd_script

       plug   IP address or hostname of fencing device (together with --port-as-ip) Obsoletes: port

       quiet  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       verbose_level
              Level  of  debugging  detail  in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration (i.e., on stdin).

       debug_file
              Write debug information to given file Obsoletes: debug

       version
              Display version information and exit

       help   Display help and exit

       amttool_path
              Path to amttool binary (Default Value: /usr/bin/amttool)

       delay  Wait X seconds before fencing is started (Default Value: 0)

       disable_timeout
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       login_timeout
              Wait X seconds for cmd prompt after login (Default Value: 5)

       port_as_ip
              Make "port/plug" to be an alias to IP address

       power_timeout
              Test X seconds for status change after ON/OFF (Default Value: 20)

       power_wait
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       shell_timeout
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       retry_on
              Count of attempts to retry power on (Default Value: 1)

       use_sudo
              Use sudo (without password) when calling 3rd party software Obsoletes: sudo

       sudo_path
              Path to sudo binary (Default Value: /usr/bin/sudo)

fence_amt (Fence Agent)                                                                            2009-10-20                                                                                    FENCE_AGENT(8)
