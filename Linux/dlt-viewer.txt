DMA(8)                                                               BSD System Manager's Manual                                                              DMA(8)

NAME
     dma — DragonFly Mail Agent

SYNOPSIS
     dma [-DiOt] [-Amode] [-bmode] [-f sender] [-L tag] [-ooption] [-r sender] [-q[arg]] [recipient ...]

DESCRIPTION
     dma is a small Mail Transport Agent (MTA), designed for home and office use.  It accepts mails from locally installed Mail User Agents (MUA) and delivers the
     mails either locally or to a remote destination.  Remote delivery includes several features like TLS/SSL support and SMTP authentication.

     dma is not intended as a replacement for real, big MTAs like sendmail(8) or postfix(1).  Consequently, dma does not listen on port 25 for incoming connections.

     The options are as follows:

     -Amode  -Ac acts as a compatibility option for sendmail.

     -bmode

             -bp     List all mails currently stored in the mail queue.

             -bq     Queue the mail, but don't attempt to deliver it.  See also the ‘DEFER’ config file setting below.

             All other modes are are ignored.

     -D      Don't run in the background.  Useful for debugging.

     -f sender
             Set sender address (envelope-from) to sender.  This overrides the value of the EMAIL environment variable, but is overridden by the ‘MASQUERADE’ config
             file setting.

     -i      Ignore dots alone on lines by themselves in incoming messages.  This should be set if you are reading data from a file.

     -L tag  Set the identifier used in syslog messages to the supplied tag.  This is a compatibility option for sendmail.

     -O      This is a compatibility option for sendmail.

     -ooption
             Specifying -oi is synonymous to -i.  All other options are ignored.

     -q[arg]
             Process saved messages in the queue.  The argument is optional and ignored.

     -r sender
             Same as -f.

     -t      Obtain recipient addresses from the message header.  dma will parse the To:, Cc:, and Bcc: headers.  The Bcc: header will be removed independent of
             whether -t is specified or not.

CONFIGURATION
     dma can be configured with two config files:

     •   auth.conf
     •   dma.conf

     These two files are stored per default in /etc/dma.

FILE FORMAT
     Every file contains parameters of the form ‘name value’.  Lines containing boolean values are set to ‘NO’ if the line is commented and to ‘YES’ if the line is
     uncommented.  Empty lines or lines beginning with a ‘#’ are ignored.  Parameter names and their values are case sensitive.

PARAMETERS
   auth.conf
     SMTP authentication can be configured in auth.conf.  Each line has the format “user|smarthost:password”.

   dma.conf
     Most of the behaviour of dma can be configured in dma.conf.

     SMARTHOST (string, default=mail.example.com)
           If you want to send outgoing mails via a smarthost, set this variable to your smarthosts address.

     PORT (numeric, default=25)
           Use this port to deliver remote emails.  Only useful together with the ‘SMARTHOST’ option, because dma will deliver all mails to this port, regardless of
           whether a smarthost is set or not.

     ALIASES (string, default=/etc/aliases)
           Path to the local aliases file.  Just stick with the default.  The aliases file is of the format
                 nam: dest1 dest2 ...
           In this case, mails to nam will instead be delivered to dest1 and dest2, which in turn could be entries in /etc/aliases.  The special name ‘*’ can be
           used to create a catch-all alias, which gets used if no other matching alias is found.  Use the catch-all alias only if you don't want any local mail to
           be delivered.

     SPOOLDIR (string, default=/var/spool/dma)
           Path to dma's spool directory.  Just stick with the default.

     AUTHPATH (string, default=not set)
           Path to the ‘auth.conf’ file.

     SECURETRANS (boolean, default=commented)
           Uncomment if you want TLS/SSL secured transfer.

     STARTTLS (boolean, default=commented)
           Uncomment if you want to use STARTTLS.  Only useful together with ‘SECURETRANS’.
