

FENCE_AGENT(8)                                                                              System Manager's Manual                                                                              FENCE_AGENT(8)

NAME
       fence_ilo4 - Fence agent for IPMI

       fence_ilo3 - Fence agent for HP iLO3 (symlink)

       fence_ilo4 - Fence agent for HP iLO4 (symlink)

       fence_ilo5 - Fence agent for HP iLO5 (symlink)

       fence_ipmilanplus - Fence agent for IPMIv2 lanplus (symlink)

       fence_imm - Fence agent for IBM Integrated Management Module (symlink)

       fence_idrac - Fence agent for Dell iDRAC (symlink)

DESCRIPTION
       fence_ipmilan  is  an  I/O  Fencing agentwhich can be used with machines controlled by IPMI.This agent calls support software ipmitool (http://ipmitool.sf.net/). WARNING! This fence agent might report
       success before the node is powered off. You should use -m/method onoff if your fence device works correctly with that option.

       fence_ilo4 accepts options on the command line as well as from stdin. Fenced sends parameters through stdin when it execs the agent. fence_ilo4 can be run by itself with command line options.  This is
       useful for testing and for turning outlets on or off from scripts.

       Vendor URL:

PARAMETERS

       -o, --action=[action]
              Fencing action (Default Value: reboot)

       -A, --auth=[auth]
              IPMI Lan Auth type. (md5|password|none)

       -C, --cipher=[cipher]
              Ciphersuite to use (same as ipmitool -C parameter)

       --hexadecimal-kg=[key]
              Hexadecimal-encoded Kg key for IPMIv2 authentication

       -a, --ip=[ip]
              IP address or hostname of fencing device

       -u, --ipport=[port]
              TCP/UDP port to use for connection with device (Default Value: 623)

       -P, --lanplus
              Use Lanplus to improve security of connection (Default Value: 1)

       -m, --method=[method]
              Method to fence (onoff|cycle) (Default Value: onoff)

       -p, --password=[password]
              Login password or passphrase

       -S, --password-script=[script]
              Script to run to retrieve password

       -n, --plug=[ip]
              IP address or hostname of fencing device (together with --port-as-ip)

       -L, --privlvl=[level]
              Privilege level on IPMI device (callback|user|operator|administrator) (Default Value: administrator)

       --target=[targetaddress]
              Bridge IPMI requests to the remote target address

       -l, --username=[name]
              Login name

       -q, --quiet
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       -v, --verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       --verbose-level
              Level  of  debugging  detail  in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration (i.e., on stdin).

       -D, --debug-file=[debugfile]
              Write debug information to given file

       -V, --version
              Display version information and exit

       -h, --help
              Display help and exit

       --delay=[seconds]
              Wait X seconds before fencing is started (Default Value: 0)

       --disable-timeout=[true/false]
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       --ipmitool-path=[path]
              Path to ipmitool binary (Default Value: /usr/bin/ipmitool)

       --login-timeout=[seconds]
              Wait X seconds for cmd prompt after login (Default Value: 5)

       --port-as-ip
              Make "port/plug" to be an alias to IP address

       --power-timeout=[seconds]
              Test X seconds for status change after ON/OFF (Default Value: 20)

       --power-wait=[seconds]
              Wait X seconds after issuing ON/OFF (Default Value: 2)

       --shell-timeout=[seconds]
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       --ipmitool-timeout=[timeout]
              Timeout (sec) for IPMI operation (Default Value: 2)

       --retry-on=[attempts]
              Count of attempts to retry power on (Default Value: 1)

       --use-sudo
              Use sudo (without password) when calling 3rd party software

       --sudo-path=[path]
              Path to sudo binary (Default Value: /usr/bin/sudo)

ACTIONS

       on     Power on machine.

       off    Power off machine.

       reboot Reboot machine.

       status This returns the status of the plug/virtual machine.

       monitor
              Check the health of fence device

       metadata
              Display the XML metadata describing this resource.

       manpage
               The operational behavior of this is not known.

       validate-all
              Validate if all required parameters are entered.

       diag   Pulse a diagnostic interrupt to the processor(s).

STDIN PARAMETERS

       action Fencing action (Default Value: reboot)

       auth   IPMI Lan Auth type. (md5|password|none)

       cipher Ciphersuite to use (same as ipmitool -C parameter)

       hexadecimal_kg
              Hexadecimal-encoded Kg key for IPMIv2 authentication

       ip     IP address or hostname of fencing device Obsoletes: ipaddr

       ipport TCP/UDP port to use for connection with device (Default Value: 623)

       lanplus
              Use Lanplus to improve security of connection (Default Value: 1)

       method Method to fence (onoff|cycle) (Default Value: onoff)

       password
              Login password or passphrase Obsoletes: passwd

       password_script
              Script to run to retrieve password Obsoletes: passwd_script

       plug   IP address or hostname of fencing device (together with --port-as-ip) Obsoletes: port

       privlvl
              Privilege level on IPMI device (callback|user|operator|administrator) (Default Value: administrator)

       target Bridge IPMI requests to the remote target address

       username
              Login name Obsoletes: login

       quiet  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       verbose_level
              Level of debugging detail in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration  (i.e.,  on  stdin).

       debug_file
              Write debug information to given file Obsoletes: debug

       version
              Display version information and exit

       help   Display help and exit

       delay  Wait X seconds before fencing is started (Default Value: 0)

       disable_timeout
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       ipmitool_path
              Path to ipmitool binary (Default Value: /usr/bin/ipmitool)

       login_timeout
              Wait X seconds for cmd prompt after login (Default Value: 5)

       port_as_ip
              Make "port/plug" to be an alias to IP address

       power_timeout
              Test X seconds for status change after ON/OFF (Default Value: 20)

       power_wait
              Wait X seconds after issuing ON/OFF (Default Value: 2)

       shell_timeout
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       ipmitool_timeout
              Timeout (sec) for IPMI operation (Default Value: 2)

       retry_on
              Count of attempts to retry power on (Default Value: 1)

       use_sudo
              Use sudo (without password) when calling 3rd party software Obsoletes: sudo

       sudo_path
              Path to sudo binary (Default Value: /usr/bin/sudo)

fence_ilo4 (Fence Agent)                                                                           2009-10-20                                                                                    FENCE_AGENT(8)
