

FENCE_AGENT(8)                                                                              System Manager's Manual                                                                              FENCE_AGENT(8)

NAME
       fence_openstack - Fence agent for OpenStack's Nova service

DESCRIPTION
       fence_openstack is a Fencing agent which can be used with machines controlled by the Openstack's Nova service. This agent calls the python-novaclient and it is mandatory to be installed

       fence_openstack  accepts  options  on  the command line as well as from stdin. Fenced sends parameters through stdin when it execs the agent. fence_openstack can be run by itself with command line op‚Äê
       tions.  This is useful for testing and for turning outlets on or off from scripts.

       Vendor URL: https://wiki.openstack.org/wiki/Nova

PARAMETERS

       -o, --action=[action]
              Fencing action (Default Value: reboot)

       --auth-url=[authurl]
              Keystone Auth URL This parameter is always required.

       -p, --password=[password]
              Login password or passphrase

       -S, --password-script=[script]
              Script to run to retrieve password

       -n, --plug=[UUID]
              UUID of the node to be fenced.

       --project-domain-name=[domain]
              Keystone Project Domain Name (Default Value: Default)

       --project-name=[project]
              Keystone Project (Default Value: admin)

       --user-domain-name=[domain]
              Keystone User Domain Name (Default Value: Default)

       -l, --username=[name]
              Login name This parameter is always required.

       --uuid=[uuid]
              Replaced by port/-n/--plug

       -q, --quiet
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       -v, --verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       --verbose-level
              Level of debugging detail in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration  (i.e.,  on  stdin).

       -D, --debug-file=[debugfile]
              Write debug information to given file

       -V, --version
              Display version information and exit

       -h, --help
              Display help and exit

       --delay=[seconds]
              Wait X seconds before fencing is started (Default Value: 0)

       --disable-timeout=[true/false]
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       --login-timeout=[seconds]
              Wait X seconds for cmd prompt after login (Default Value: 5)

       --power-timeout=[seconds]
              Test X seconds for status change after ON/OFF (Default Value: 20)

       --power-wait=[seconds]
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       --shell-timeout=[seconds]
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       --retry-on=[attempts]
              Count of attempts to retry power on (Default Value: 1)

ACTIONS

       on     Power on machine.

       off    Power off machine.

       reboot Reboot machine.

       status This returns the status of the plug/virtual machine.

       monitor
              Check the health of fence device

       metadata
              Display the XML metadata describing this resource.

       manpage
               The operational behavior of this is not known.

       validate-all
              Validate if all required parameters are entered.

STDIN PARAMETERS

       action Fencing action (Default Value: reboot)

       auth_url
              Keystone Auth URL This parameter is always required. Obsoletes: auth-url

       password
              Login password or passphrase Obsoletes: passwd

       password_script
              Script to run to retrieve password Obsoletes: passwd_script

       plug   UUID of the node to be fenced. Obsoletes: port

       project_domain_name
              Keystone Project Domain Name (Default Value: Default) Obsoletes: project-domain-name

       project_name
              Keystone Project (Default Value: admin) Obsoletes: project-name

       user_domain_name
              Keystone User Domain Name (Default Value: Default) Obsoletes: user-domain-name

       username
              Login name This parameter is always required. Obsoletes: login

       uuid   Replaced by port/-n/--plug

       quiet  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       verbose_level
              Level  of  debugging  detail  in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration (i.e., on stdin).

       debug_file
              Write debug information to given file Obsoletes: debug

       version
              Display version information and exit

       help   Display help and exit

       delay  Wait X seconds before fencing is started (Default Value: 0)

       disable_timeout
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       login_timeout
              Wait X seconds for cmd prompt after login (Default Value: 5)

       power_timeout
              Test X seconds for status change after ON/OFF (Default Value: 20)

       power_wait
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       shell_timeout
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       retry_on
              Count of attempts to retry power on (Default Value: 1)

fence_openstack (Fence Agent)                                                                      2009-10-20                                                                                    FENCE_AGENT(8)
