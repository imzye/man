RECAP.CONF(5)                                                                               File Formats Manual                                                                               RECAP.CONF(5)

NAME
       recap.conf - recap configuration file

DESCRIPTION
       The /etc/recap.conf file contains configuration information for recap. It stores the default values that determine which reports get generated and how many reports are generated.

       The output files from the script are written to BASEDIR.

OPTIONS
       BASEDIR
              Directory where recap logs will be written, if defined is used by recaplog and recaptool.  (default: /var/log/recap)

       MAILTO
              Define this variable if you would like the reports to be sent via email

       MIN_FREE_SPACE
              The minimum free disk space (in MB) required in ${BASEDIR} to run recap. (Disabled by default) (default: 0)

       REPORTS

           USEFDISK
                  Can be set to yes or no to enable or not "fdisk ${OPTS_FDISK}. This output is written in ${BASEDIR}/fdisk.log (default: no)

           USEPS
                  Can be set to yes or no to enable or disable the ps.log. (default: yes)

           USERESOURCES
                  Can be set to yes or no to enable or disable the resources.log. (default: yes)

           USEDF
                  Can be set to yes or no depending on whether or not "df ${OPTS_DF}" output should be stored in the report output. This requires that USERESOURCES be set to yes. (default: yes)

           USESLAB
                  Can be set to yes or no depending on whether or not the slab counters should be stored in the report output. This requires that USERESOURCES be set to yes. (default: no)

           USESAR
                  Can be set to yes or no depending on whether or not "sar" output should be stored in the report output. This requires that USERESOURCES be set to yes. (default: yes)

           USESARQ
                  Can  be  set to yes or no depending on whether or not "sar -q"(Queue length, load) output should be stored in the report output. This requires that USERESOURCES be set to yes. (default:
                  no)

           USESARR
                  Can be set to yes or no depending on whether or not "sar -r"(memory data) output should be stored in the report output. This requires that USERESOURCES be set to yes. (default: no)

           USEFULLSTATUS
                  Can be set to yes or no depending on whether or not a http request(GET) to OPTS_STATUSURL is required, it requires that the webserver url(OPTS_STATUSURL) is  configured  to  respond  to
                  this  request.  Nginx(nginx_status)  and Apache HTTPD(server-status) offer a functionality to provide the status of the webserver via URL. This requires that USERESOURCES be set to yes.
                  (default: no)

           USEPSTREE
                  Can be set to yes or no depending on whether or not the output of the "pstree" command should be recorded. Makes use of OPTS_PSTREE to modify its options. Please note that  this  output
                  is written to a separate file in ${BASEDIR}/pstree.log (default: no)

           USENETSTAT
                  Can  be  set  to  yes  or  no  depending  on  whether or not the output of "ss ${OPTS_NETSTAT}" command should be recorded. Please note that this output is written to a separate file in
                  ${BASEDIR}/netstat.log is required by USENETSTATSUM.  (default: yes)

           USENETSTATSUM
                  Can be set to yes or no depending on whether or not the output of "nstat ${OPTS_NETSTAT_SUM}" command should be recorded. This report requires that USENETSTAT be set to "yes". This out‐
                  put is written in ${BASEDIR}/netstat.log (default: no)

           USEMYSQL
                  Can be set to yes or no depending on whether or not the output of "mysqladmin status" command should be recorded. Before enabling this option, please make sure that  DOTMYDOTCNF  points
                  to the file that has appropriate credentials for accessing MySQL. Please note that this output is written to a separate file in ${BASEDIR}/mysql.log (default: no)

           USEMYSQLPROCESSLIST
                  Can  be  set  to yes or no depending on whether or not the output of "mysqladmin processlist" command should be recorded. This report requires that USEMYSQL be set to "yes". This option
                  makes use of MYSQL_PROCESS_LIST, to produce the output vertical or in a table. This output is written in ${BASEDIR}/mysql.log (default: no)

           USEINNODB
                  Can be set to yes or no depending on whether or not the output of "mysql show engine innodb status" and other variables(pid_files, tmpdir) command should be recorded.  This  report  re‐
                  quires that USEMYSQL be set to "yes". This output is written in ${BASEDIR}/mysql.log (default: no)

           COMMAND OPTIONS
               Options used by the tools generating the reports

               DOTMYDOTCNF
                      Option required by USEMYSQL, USEMYSQLPROCESSLIST, USEINNODB, defines the path to the mysql client configuration file.  (default: "/root/.my.cnf")

               MYSQL_PROCESS_LIST
                      Format to display MySQL process list, options are "table" or "vertical". This requires that USEMYSQLPROCESSLIST be set "yes".  (default: table).

               OPTS_LINKS
                      Options used by links, when using USEFULLSTATUS (default: '-dump')

               OPTS_DF
                      df options (default: '-x nfs')

               OPTS_FDISK
                      Option used by USEFDISK.  (default: "-l")

               OPTS_FREE
                      free options (default: "")

               OPTS_IOSTAT
                      iostat options (default: "-t -x 1 3" )

               OPTS_IOTOP
                      iotop options (default: "-b -o -t -n 3")

               OPTS_NETSTAT
                      ss options (default: "-atunp")

               OPTS_NETSTAT_SUM
                      nstat statistics options (default: "-a")

               OPTS_PS
                      ps options (default: "auxfww")

               OPTS_PSTREE
                      pstree options (default: "-p")

               OPTS_STATUSURL
                      URL to perform the http request when USEFULLSTATUS is enabled.  (default: "http://localhost:80/server-status")

               OPTS_VMSTAT
                      vmstat options (default: "-S M 1 3")

REPORTING BUGS
       Bugs and issues to be submitted via github <https://github.com/rackerlabs/recap/issues>.

AUTHOR
       The recap scripts are maintained by Rackspace, the list of contributors is available at https://github.com/rackerlabs/recap/blob/master/CHANGELOG.md#contributors.

SEE ALSO
       recap(8), recaplog(8), crontab(5) systemd.timer(5)

                                                                                                July 7, 2017                                                                                  RECAP.CONF(5)
