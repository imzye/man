RT-MAILGATE(1)                                                                        User Contributed Perl Documentation                                                                        RT-MAILGATE(1)

NAME
       rt-mailgate - Mail interface to RT.

SYNOPSIS
           rt-mailgate --help : this text

       Usual invocation (from MTA):

           rt-mailgate --action (correspond|comment|...) --queue queuename
                       --url http://your.rt.server/
                       [ --debug ]
                       [ --extension (queue|action|ticket) ]
                       [ --timeout seconds ]

OPTIONS
       "--action"
          Specifies what happens to email sent to this alias.  The avaliable basic actions are: "correspond", "comment".  Additional actions, such as "take" or "resolve", may be available depending on your
          local @MailPlugins configuration.

          You can execute two or more actions on a single message using a "-" separated list.  RT will execute the actions in the listed order.  For example you can use "take-comment", "correspond-resolve"
          or "take-comment-resolve" as actions.

          Note that "take" and "resolve" actions ignore message text if used alone.  Include a  "comment" or "correspond" action if you want RT to record the incoming message.

          The default action is "correspond".

       "--queue"
          This flag determines which queue this alias should create a ticket in if no ticket identifier is found.

       "--url"
          This flag tells the mail gateway where it can find your RT server. You should probably use the same URL that users use to log into RT.

          If you have a self-signed SSL certificate, you may also need to pass "--ca-file" or "--no-verify-ssl", below.

       "--ca-file" path
          Specifies the path to the public SSL certificate for the certificate authority that should be used to verify the website's SSL certificate.  If your webserver uses a self-signed certificate, you
          should preferentially use this option over "--no-verify-ssl", as it will ensure that the self-signed certificate that the mailgate is seeing the right self-signed certificate.

       "--no-verify-ssl"
          This flag tells the mail gateway to trust all SSL certificates, regardless of if their hostname matches the certificate, and regardless of CA.  This is required if you have a self-signed
          certificate, or some other certificate which is not traceable back to an certificate your system ultimitely trusts.

       "--extension" OPTIONAL
          Some MTAs will route mail sent to user-foo@host or user+foo@host to user@host and present "foo" in the environment variable $EXTENSION. By specifying the value "queue" for this parameter, the queue
          this message should be submitted to will be set to the value of $EXTENSION. By specifying "ticket", $EXTENSION will be interpreted as the id of the ticket this message is related to.  "action" will
          allow the user to specify either "comment" or "correspond" in the address extension.

       "--debug" OPTIONAL
          Print debugging output to standard error

       "--timeout" OPTIONAL
          Configure the timeout for posting the message to the web server.  The default timeout is 3 minutes (180 seconds).

DESCRIPTION
       The RT mail gateway is the primary mechanism for communicating with RT via email. This program simply directs the email to the RT web server, which handles filing correspondence and sending out any
       required mail.  It is designed to be run as part of the mail delivery process, either called directly by the MTA or "procmail", or in a .forward or equivalent.

SETUP
       Much of the set up of the mail gateway depends on your MTA and mail routing configuration.

       You need to route mail to "rt-mailgate" for the queues you're monitoring. For instance, if you're using /etc/aliases and you have a "bugs" queue, you will want something like this:

           bugs:         "|/usr/bin/rt-mailgate --queue bugs --action correspond
                     --url http://rt.mycorp.com/"

           bugs-comment: "|/usr/bin/rt-mailgate --queue bugs --action comment
                     --url http://rt.mycorp.com/"

       Note that you don't have to run your RT server on your mail server, as the mail gateway will happily relay to a different machine.

ENVIRONMENT
       EXTENSION
           Some MTAs will route mail sent to user-foo@host or user+foo@host to user@host and present "foo" in the environment variable "EXTENSION". Mailgate adds value of this variable to message in the
           "X-RT-Mail-Extension" field of the message header.

           See also "--extension" option. Note that value of the environment variable is always added to the message header when it's not empty even if "--extension" option is not provided.

perl v5.34.0                                                                                       2021-10-05                                                                                    RT-MAILGATE(1)
