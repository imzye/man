MINIDJVU(1)                                                                                     minidjvu-0.8                                                                                    MINIDJVU(1)

NAME
       minidjvu - кодирование и расшифровка монохромных DJVU-страниц

ОБЗОР
       minidjvu  [options] input_file output_file

       Предусмотрен также подобный синтаксис для многостраничного сжатия:

       minidjvu  [options] input_files output_file

       См. ниже раздел МНОГОСТРАНИЧНОЕ КОДИРОВАНИЕ где об этом сказано более подробно.

ОПИСАНИЕ
       minidjvu может кодировать и расшифровывать одностраничные монохромные файлы DjVu.

       Программа minidjvu основана на коде DjVuLibre, базовой библиотеки, обеспечивающей поддержку формата DjVu.

       Кроме  монохромных  файлов DjVu, minidjvu распознает форматы Windows BMP, PBM и TIFF (с помощью библиотеки libtiff).  Как исходный, так и результирующий файлы могут иметь формат BMP, PBM, TIFF или
       DjVu. Формат файла определяется по его расширению. Исходный и результирующий файлы могут совпадать.

       Если задано преобразование из DjVu в DjVu, minidjvu сначала расшифровывает, а затем вновь кодирует изображение. При этом содержимое файла DjVu, за исключением текстового слоя, теряется.

       Преобразование одного битового изображения в другое также допустимо, но имеет некоторый смысл только при указании параметра --smooth.

       Все параметры могут предваряться как одним, так и двумя дефисами.  Это сделано для того, чтобы сделать интерфейс MiniDjvu более удобным для пользователей DjVuLibre.

МНОГОСТРАНИЧНОЕ КОДИРОВАНИЕ
       Чтобы активизировать многостраничный режим, нужно указать в командной строке minidjvu либо несколько файлов, подлежащих обработке, либо один многостраничный документ tiff. По  умолчанию  (если  не
       задан параметр --indirect ) сжатые страницы помещаются в составной многостраничный документ под тем именем, которое было указано в командной строке.

       Некоторые из параметров minidjvu ( --pages-per-dict, --indirect и --report ) предназначены специально для контроля работы программы в многостраничном режиме.

ПАРАМЕТРЫ
       -A

       --Averaging
              Вычислять усредненные варианты представления символов, для которых обнаружено соответствию образцу.

       -a n

       --aggression n
              Задает уровень "агрессии" для сопоставления образцов. Чем выше агрессия, тем меньше размер файла и выше вероятность ошибочных подстановок. По умолчанию используется значение 100. Обычно его
              можно с большей или меньшей уверенностью увеличить примерно до 110. Скорее всего, даже 200 даст вполне подходящий результат, но на это не стоит полагаться.

              Фактический уровень сжатия при выборе того или иного значения этого параметра может изменяться от версии к версии. Тем не менее, значение 100 всегда будет использоваться по умолчанию.

              Данный параметр автоматически активирует параметр --match.

       -c

       --clean
              Удалять  небольшие черные пятна, которые, скорее всего, представляют собой шум.  Этот алгоритм может оказать разрушительное действие на полутоновые картинки, поэтому его следует применять с
              осторожностью.

              Данный параметр активируется при указании --lossy.

       -d n

       --dpi n
              Указать разрешение изображения в точках на дюйм. Разрешение оказывает влияние на работу некоторых алгоритмов, а при записи файлов DjVu и BMP (поддержка формата TIFF должна быть добавлена  в
              будущем) сохраняется в них.

       -e

       --erosion
              Пожертвовать качеством изображения для того, чтобы выиграть 5-10% объема файла.  Одиночное применение эрозии практически незаметно, но 10 таких случаев в одной строке могут сильно испортить
              изображение, причем, к сожалению, это всё равно не даст слишком большого выигрыша в размере. Бонус за эрозию начисляется при сопоставлении образцов.

              Использование эрозии не имеет смысла, если вывод осуществляется не в формат DjVu.

              Данный параметр активируется при указании --lossy.

       -i

       --indirect

              Этот  параметр  может  использоваться  в  многостраничном  режиме: его указание заставляет minidjvu создавать на выходе документ DjVu indirect.  Такие документы состоят из индексного файла,
              некоторого количества одностраничных документов (по одному на каждое изображение, указанное на входе), а также файлов, содержащих разделяемые  словари.  Обратите  внимание,  что  индексному
              файлу  присваивается  имя, указанное в командной строке для результирующего документа, в то время как отдельные страницы сохраняются под именами исходных изображений с заменой расширения на
              djvu.

              Данный режим может быть полезен для больших документов, которые планируется разместить на Web-сервере, а также если планируется последующая обработка созданных  файлов  (например,  с  целью
              добавления фоновых изображений).  В последнем случае вы можете затем воспользоваться утилитой djvmcvt из поставки DjVuLibre, чтобы сконвертировать документ в формат DjVu bundled.

       -l

       --lossy
              Активировать все параметры, отвечающие за сжатие с потерями. Это равнозначно указанию --Averaging --clean --erosion --match --smooth.

       -m

       --match
              Запустить  сопоставление  образцов.  Это основной метод, служащий для уменьшения размера файла, но он может привести к проблемам из-за ошибок подстановки. Используйте параметр --aggression,
              чтобы регулировать соотношение между размером файла и возможностью возникновения ошибок.

              Данный параметр активируется при указании --lossy или --aggression.

       -n

       --no-prototypes
              Отключить поиск прототипов. Это позволяет ускорить процесс сжатия без потерь, но значительно увеличивает размер создаваемых файлов.

       -p

       --pages-per-dict
              Указывает, сколько страниц следует сжимать за один проход. Значение по умолчанию - 10. При указании значения 0 ( -p 0 ) minidjvu попытается обработать все  страницы  сразу,  однако  следует
              иметь в виду, что такая операция может потребовать очень много памяти, особенно на больших по объему книгах.

       -r

       --report
              Выводить подробные сообщения о ходе обработки каждой страницы в многостраничном режиме. Это полезно только для того, чтобы скрасить долгое ожидание в процессе сжатия книги.

       -s

       --smooth
              Отключить  некоторые  пиксели,  которые,  по  всей  вероятности,  представляют  собой  шум.  Это позволяет выиграть около 5% размера файла. Внешний вид изображения слегка улучшается, но это
              малозаметно.

              В текущей версии алгоритм обработки является примитивным и удаляет только те черные пиксели, которые окружены белыми с трех или четырех сторон.  Эффект, скорее всего, окажется незаметным.

              Данный параметр активируется при указании --lossy.

       -v

       --verbose
              Выводить сообщения о разных стадиях обработки. Они не особенно полезны, но не лишены некоторого интереса.

       -X  ext

       --Xtension  ext
              Задает расширение, которое minidjvu будет использовать для файлов, содержащих разделяемые словари (начальную точку указывать не нужно).  Значение по умолчанию "iff".

       -w

       --warnings
              Не подавлять предупреждения библиотеки libtiff. По умолчанию такое подавление включено. Дело в том, что под Windows стандартный обработчик предупреждений TIFF выводит их в виде  диалогового
              окна с сообщением, что, конечно, неприемлемо при обработке в пакетном режиме.

ОШИБКИ
       Многостраничное кодирование работает неправильно, если страницы имеют разные разрешения.

minidjvu-0.8                                                                                     July 2009                                                                                      MINIDJVU(1)
