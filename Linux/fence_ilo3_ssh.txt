

FENCE_AGENT(8)                                                                              System Manager's Manual                                                                              FENCE_AGENT(8)

NAME
       fence_ilo3_ssh - Fence agent for HP iLO over SSH

       fence_ilo3_ssh - Fence agent for HP iLO3 over SSH (symlink)

       fence_ilo4_ssh - Fence agent for HP iLO4 over SSH (symlink)

       fence_ilo5_ssh - Fence agent for HP iLO5 over SSH (symlink)

DESCRIPTION
       fence_ilo_ssh is a fence agent that connects to iLO device. It logs into device via ssh and reboot a specified outlet.

       WARNING: The monitor-action is prone to timeouts. Use the fence_ilo-equivalent to avoid this issue.

       fence_ilo3_ssh  accepts options on the command line as well as from stdin. Fenced sends parameters through stdin when it execs the agent. fence_ilo3_ssh can be run by itself with command line options.
       This is useful for testing and for turning outlets on or off from scripts.

       Vendor URL: http://www.hp.com

PARAMETERS

       -o, --action=[action]
              Fencing action (Default Value: reboot)

       -c, --command-prompt=[prompt]
              Force Python regex for command prompt (Default Value: ['MP>', 'hpiLO->'])

       -k, --identity-file=[filename]
              Identity file (private key) for SSH

       -4, --inet4-only
              Forces agent to use IPv4 addresses only

       -6, --inet6-only
              Forces agent to use IPv6 addresses only

       -a, --ip=[ip]
              IP address or hostname of fencing device

       -u, --ipport=[port]
              TCP/UDP port to use for connection with device (Default Value: 23)

       -m, --method=[method]
              Method to fence (onoff|cycle) (Default Value: onoff)

       -p, --password=[password]
              Login password or passphrase

       -S, --password-script=[script]
              Script to run to retrieve password

       -n, --plug=[ip]
              IP address or hostname of fencing device (together with --port-as-ip)

       -x, --ssh
              Use SSH connection

       --ssh-options=[options]
              SSH options to use

       -l, --username=[name]
              Login name This parameter is always required.

       -q, --quiet
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       -v, --verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       --verbose-level
              Level of debugging detail in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration  (i.e.,  on  stdin).

       -D, --debug-file=[debugfile]
              Write debug information to given file

       -V, --version
              Display version information and exit

       -h, --help
              Display help and exit

       --delay=[seconds]
              Wait X seconds before fencing is started (Default Value: 0)

       --disable-timeout=[true/false]
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       --login-timeout=[seconds]
              Wait X seconds for cmd prompt after login (Default Value: 5)

       --port-as-ip
              Make "port/plug" to be an alias to IP address

       --power-timeout=[seconds]
              Test X seconds for status change after ON/OFF (Default Value: 20)

       --power-wait=[seconds]
              Wait X seconds after issuing ON/OFF (Default Value: 5)

       --shell-timeout=[seconds]
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       --retry-on=[attempts]
              Count of attempts to retry power on (Default Value: 1)

       --ssh-path=[path]
              Path to ssh binary (Default Value: /usr/bin/ssh)

       --telnet-path=[path]
              Path to telnet binary (Default Value: /usr/bin/telnet)

ACTIONS

       on     Power on machine.

       off    Power off machine.

       reboot Reboot machine.

       status This returns the status of the plug/virtual machine.

       monitor
              Check the health of fence device

       metadata
              Display the XML metadata describing this resource.

       manpage
               The operational behavior of this is not known.

       validate-all
              Validate if all required parameters are entered.

STDIN PARAMETERS

       action Fencing action (Default Value: reboot)

       command_prompt
              Force Python regex for command prompt (Default Value: ['MP>', 'hpiLO->']) Obsoletes: cmd_prompt

       identity_file
              Identity file (private key) for SSH

       inet4_only
              Forces agent to use IPv4 addresses only

       inet6_only
              Forces agent to use IPv6 addresses only

       ip     IP address or hostname of fencing device Obsoletes: ipaddr

       ipport TCP/UDP port to use for connection with device (Default Value: 23)

       method Method to fence (onoff|cycle) (Default Value: onoff)

       password
              Login password or passphrase Obsoletes: passwd

       password_script
              Script to run to retrieve password Obsoletes: passwd_script

       plug   IP address or hostname of fencing device (together with --port-as-ip) Obsoletes: port

       ssh    Use SSH connection Obsoletes: secure

       ssh_options
              SSH options to use

       username
              Login name This parameter is always required. Obsoletes: login

       quiet  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       verbose
              Verbose mode. Multiple -v flags can be stacked on the command line (e.g., -vvv) to increase verbosity.

       verbose_level
              Level  of  debugging  detail  in output. Defaults to the number of --verbose flags specified on the command line, or to 1 if verbose=1 in a stonith device configuration (i.e., on stdin).

       debug_file
              Write debug information to given file Obsoletes: debug

       version
              Display version information and exit

       help   Display help and exit

       delay  Wait X seconds before fencing is started (Default Value: 0)

       disable_timeout
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       login_timeout
              Wait X seconds for cmd prompt after login (Default Value: 5)

       port_as_ip
              Make "port/plug" to be an alias to IP address

       power_timeout
              Test X seconds for status change after ON/OFF (Default Value: 20)

       power_wait
              Wait X seconds after issuing ON/OFF (Default Value: 5)

       shell_timeout
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       retry_on
              Count of attempts to retry power on (Default Value: 1)

       ssh_path
              Path to ssh binary (Default Value: /usr/bin/ssh)

       telnet_path
              Path to telnet binary (Default Value: /usr/bin/telnet)

fence_ilo3_ssh (Fence Agent)                                                                       2009-10-20                                                                                    FENCE_AGENT(8)
