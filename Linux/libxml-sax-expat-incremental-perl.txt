XML::SAX::Expat::Incremental(3pm)                                                   User Contributed Perl Documentation                                                   XML::SAX::Expat::Incremental(3pm)

NAME
       XML::SAX::Expat::Incremental - XML::SAX::Expat subclass for non-blocking (incremental) parsing, with XML::Parser::ExpatNB.

SYNOPSIS
               use XML::SAX::Expat::Incremental;

               # don't do this, use XML::SAX::ParserFactory
               my $p = XML::SAX::Expat::Incremental->new( Handler => MyHandler->new );

               $p->parse_start;

               while (<DATA>){
                       $p->parse_more($_); # or $p->parse_string($_);
               }

               $p->parse_done;

DESCRIPTION
       Most XML parsers give a callback interface within an encapsulated loop. That is, you call

               $p->parse_whatever($whatever);

       And eventually, when $whatever is depleted by the parser, "$p->parse" will return.

       Sometimes you don't want the parser to control the loop for you. For example, if you need to retrieve your XML in chunks in a funny way, you might need to do something like

               my $doc = '';
               while (defined(my $buffer = get_more_xml())) {
                       $doc .= $buffer;
               }

               $p->parse_string($doc);

       which is not very convenient, or efficient. You could use perltie to tie a filehandle which does this for you, but that only works some of the time (for example, say you have two inputs coming in
       simultaneously).

       XML::Parser::ExpatNB solves this by providing three methods:

       parse_start
       parse_more
       parse_done

       This interface lets you move the loop to outside the parser, retaining control.

       The callbacks are executed in the same manner, just that now, when there is no left to parse, instead of taking more data from a source on it's own, the parser returns control to you.

               $p->parse_start; # you can omit this - parse_start will
                                # be called automatically as needed

               while(defined(my $buffer = get_more_xml())) {
                       $p->parse_more($buffer);
               }

               $p->parse_done;

       This module is a subclass of XML::SAX::Expat which is to XML::Parser::ExpatXS as XML::SAX::Expat is to XML::Parser itself.

METHODS
       parse_string STRING
       parse_more STRING
           These have the same effect, except that parse_more actually calls parse_string with @_. You might want to use parse_string because in theory it's more efficient.

           This simply continues parsing with the new string, and sends SAX events for the data that is complete in the string.

       parse_start
           This calls parse_start on the underlying XML::Parser::ExpatNB object. It's called implicitly when you first call parse_string, though, so you don't have to worry about it.

       parse_done
           This calls parse_done on the underlying XML::Parser::ExpatNB object. You use it to tell the parser you have no more data to give it.

       parse
           This is used internally as a sort of parse-anything method. Don't use it, instead use "parse_string", which invokes this method correctly, and takes simpler options.

SEE ALSO
       XML::Parser, XML::SAX, XML::SAX::Expat, XML::SAX::ExpatNB

VERSION CONTROL
       This module is maintained using Darcs. You can get the latest version from <http://nothingmuch.woobling.org/XML-SAX-Expat-Incremental/>, and use "darcs send" to commit changes.

AUTHOR
       Yuval Kogman <nothingmuch@woobling.org>

COPYRIGHT & LICENSE
               Copyright (c) 2005 Yuval Kogman. All rights reserved
               This program is free software; you can redistribute
               it and/or modify it under the same terms as Perl itself.

perl v5.34.0                                                                                     2022-06-26                                                               XML::SAX::Expat::Incremental(3pm)
