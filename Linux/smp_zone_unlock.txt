SMP_ZONE_UNLOCK(8)                                                                                 SMP_UTILS                                                                                 SMP_ZONE_UNLOCK(8)

NAME
       smp_zone_unlock - invoke ZONE UNLOCK SMP function

SYNOPSIS
       smp_zone_unlock [--activate] [--expected=EX] [--help] [--hex] [--interface=PARAMS] [--raw] [--sa=SAS_ADDR] [--verbose] [--version] SMP_DEVICE[,N]

DESCRIPTION
       Sends  a  SAS  Serial  Management  Protocol  (SMP)  ZONE UNLOCK function request to an SMP target. The SMP target is identified by the SMP_DEVICE and the --sa=SAS_ADDR. Depending on the interface, the
       SAS_ADDR may be deduced from the SMP_DEVICE. The mpt interface uses SMP_DEVICE to identify a HBA (an SMP initiator) and needs the additional ,N to differentiate between  HBAs  if  there  are  multiple
       present.

       If  this  function  is successful then a Broadcast (Change) is sent from either each zone group whose zone permission table entries or zone phy information has changed; or from zone group 1. Broadcast
       (Change) should cause a management application client behind an SMP initiator port (e.g. a SAS HBA) to start a discover process.

OPTIONS
       Mandatory arguments to long options are mandatory for short options as well.

       -a, --activate
              sets the ACTIVATE REQUIRED bit in the function request. When it is set the function call will fail with a function result of NOT ACTIVATED if the expander has not "processed the activate step".

       -E, --expected=EX
              set the 'expected expander change count' field in the SMP request.  The value EX is from 0 to 65535 inclusive with 0 being the default value. When EX is greater than  zero  then  if  the  value
              doesn't match the expander change count of the SMP target (i.e. the expander) when the request arrives then the target ignores the request and sets a function result of "invalid expander change
              count" in the response.

       -h, --help
              output the usage message then exit.

       -H, --hex
              output the response (less the CRC field) in hexadecimal.

       -I, --interface=PARAMS
              interface specific parameters. In this case "interface" refers to the path through the operating system to the SMP initiator. See the smp_utils man page for more information.

       -r, --raw
              send the response (less the CRC field) to stdout in binary. All error messages are sent to stderr.

       -s, --sa=SAS_ADDR
              specifies the SAS address of the SMP target device. The mpt interface needs this option and it will typically be an expander's SAS address. The SAS_ADDR is in decimal but most SAS addresses are
              shown in hexadecimal.  To give a number in hexadecimal either prefix it with '0x' or put a trailing 'h' on it.

       -v, --verbose
              increase the verbosity of the output. Can be used multiple times.

       -V, --version
              print the version string and then exit.

CONFORMING TO
       The SMP ZONE UNLOCK function was introduced in SAS-2 .

AUTHORS
       Written by Douglas Gilbert.

REPORTING BUGS
       Report bugs to <dgilbert at interlog dot com>.

COPYRIGHT
       Copyright Â© 2011 Douglas Gilbert
       This software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

SEE ALSO
       smp_utils, smp_zone_activate, smp_zone_lock, smp_ena_dis_zoning(smp_utils)

smp_utils-0.96                                                                                     June 2011                                                                                 SMP_ZONE_UNLOCK(8)
