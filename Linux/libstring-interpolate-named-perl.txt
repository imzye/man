String::Interpolate::Named(3pm)                                                     User Contributed Perl Documentation                                                     String::Interpolate::Named(3pm)

NAME
       String::Interpolate::Named - Interpolated named arguments in string

SYNOPSIS
           use String::Interpolate::Named;

           my $ctl = { args => { fn => "Johan", ln => "Bach" } };
           say interpolate( $ctl, "The famous %{fn} %{ln}." );

           # If you like object orientation.
           my $int = String::Interpolate::Named->new( { args => { ... } } );
           say $int->interpolate("The famous %{fn} %{ln}.");

DESCRIPTION
       String::Interpolate::Named provides a function to interpolate named arguments by target texts in a template string. The target texts are provided to the function via a hash, where the keys
       correspond to the named argument to be replaced, or a subroutine that performs the lookup.

   Named Arguments
       The arguments to be replaced are marked in the template by enclosing them between "%{" and "}". For example, the string "The famous %{fn} %{ln}." contains two named arguments, "fn" and "ln".

       Note that the activator may be changed from "%" into something else, see below. Throughout this document we use the default value.

   Basic Interpolation
       When interpolated, the keys "fn" and "ln" are looked up in the hash, and the corresponding values are substituted. If no value was found for a named argument, nothing is substituted and the
       "%{...}" is removed.

       You can precede "%", "{", "}" (and "|", see below) with a backslash "\" to hide their special meanings. For example, "\}" will not be considered closing an argument but yield a plain "}" in the
       text.

   Conditional Interpolation
       It is possible to select replacement values depending on whether the named argument has a value or not:

           "This book has %{title|title %{title}}"
           "This book has %{title|title %{title}|no title}"

       These are considered "%{if|then}" and "%{if|then|else}" cases.

       Assuming argument "title" has the value "My Book", in the first example the text "title My Book", the 'then' text, will be substituted, resulting in

           "This book has title My Title"

       If "title" does not have a value, the empty string is substituted. In the second example, the string "no title", the 'else' text, will be substituted.

       As can be seen, the replacement texts may contain interpolations as well. For convenience, you can use "%{}" to refer to the value of the named argument currently being examinated. The last
       example above can be written more shortly and elegantly as:

           "This book has %{title|title %{}|no title}"

   Testing Values
       Instead of testing for named variables to have a value, you can also test for specific values:

           "This takes %{days=1|%{} day|%{} days}"

   List Values
       The replacement values hash may be scalar (in general: strings and numbers) or lists of scalars. If a value is a list of scalars, it is possible to select a particular value from the list by
       appending an index (period and a number) to the named argument.

       Assume "customer" has value "[ "Jones", "Smith" ]", then:

           "%{customer} will be Jones Smith"
           "%{customer.0} will be Jones Smith"
           "%{customer.1} will be Jones"
           "%{customer.2} will be Smith"

       When the value exceeds the number of elements in the list, an empty value is returned.  Index zero, or no index, will return all values concatenated.

   Format modifiers
       A named variable may have format modifiers attached to perform formatting operations on the substituted value.  Format modifiers start with a colon ":".

       Assuming argument "title" has the value "My Book", then "%{title:lc}" will yield the title in lowercase "my book".

       The following format modifiers are available:

       ":lc" Yields the substituted value in all lower case.

             Using the example above, this will be "my book".

       ":uc" Yields the substituted value in all upper case.

             Using the example above, this will be "MY BOOK".

       ":ic" Yields the substituted value with initial caps, e.g. the first letter of each word is capitalized.

             Using the example above, this will be "My Book".  Indeed, no difference since the value is already correctly cased.

             To enforce lower case before applying initial case, use format modifiers ":lc:ic".

       ":sc" Yields the substituted value with an initial cap and the rest lower case.

             Using the example above, this will be "My Book".  Again, no difference since the value already has an initial capital.

             To enforce lower case before applying initial case, use format modifiers ":lc:sc". Now the result will be "My book".

       ":lpad("N")"   ":lpad("N","S")"
             Pads the value by repeatedly prepending the string S until the total width is N.

             If S is omitted, uses spaces.

       ":rpad("N")"   ":rpad("N","S")"
             Pads the value by repeatedly appending the string S until the total width is N.

             If S is omitted, uses spaces.

       ":replace("SRC","DST")"
             Replaces all occurrences of STR by DST,

             If S is omitted, uses spaces.

       ":%"fmt
             Apply standard printf() formatting, e.g. "%{key:%03d}" yields the numeric value of "key" as a 3-digit string, adding leading zeroes if necessary.

       Note that, when combining formatting and conditional interpolation, you must check for the formatted value:

           "This takes %{days:%02d=01|%{} day|%{} days}"

       You can prevent a colon from splitting formatters with a backslash:

            %{title:replace( ,\:)}

   The Control Hash
       The  interpolation  process  requires  two  parameters: a hash with settings and values for the named arguments, and the string to be used as a template for interpolation. The hash will be further
       referred to as the control hash.

       The hash can have the following keys:

       args
           This is either a hash that contains replacement texts for the named variables, or a subroutine that gets called with a variable as argument and returns a replacement value.

           This element should be considered mandatory.

       separator
           The separator used to concatenate list values, see "List Values" above.

           It defaults to Perl variable $" that, on its turn, defaults to a single space.

       activator
           This is a single character that activates interpolation. By default this is the percent "%" character.

       keypattern
           The pattern to match key names. Default is "qr/\w+[-_\w.]*/".

       maxiter
           To enable nested substitutions and recursive replacement, the interpolation process is repeated until there are no more interpolations to be made. The maximun number of iterations  is  limited
           to the value of "maxiter".

           By default maxiter is 16.

       An example of a control hash:

           my %ctl =
             ( args => {
                 customer => [ "Jones", "Smith" ],
                 days     => 2,
                 title    => "My Title",
               },
               separator => ", ",
             );

   Object Oriented API
           my $ii = String::Interpolate::Named->new;
           $ii->ctl(\%ctl);
           $result = $ii->interpolate($template);

       For convenience, the control hash may be passed to the constructor:

           my $ii = String::Interpolate::Named->new(\%ctl);
           $result = $ii->interpolate($template);

   Functional API
       String::Interpolate::Named privides a single function, "interpolate", which is exported by default.

       The subroutine takes two arguments: a reference to a control hash and the template string.

          $result = interpolate( \%ctl, $template );

METHODS
   new
       Constructs a new String::Interpolate::Named object.

           my $ii = String::Interpolate::Named->new;

       or

           my $ii = String::Interpolate::Named->new(\%ctl);

   ctl
       Associates a control has with an existing object.

           $ii->ctl(\%ctl);

   interpolate
       This routine performs the actual interpolations. It can be used as a method:

           $ii->interpolate($template);

       and functional:

           interpolate( \%ctl, $template );

REQUIREMENTS
       Minimal Perl version 5.10.1.

AUTHOR
       Johan Vromans, "<JV at CPAN dot org>"

SUPPORT
       Development of this module takes place on GitHub: <https://github.com/sciurius/perl-String-Interpolate-Named>.

       You can find documentation for this module with the perldoc command.

           perldoc String::Interpolate::Named

       Please report any bugs or feature requests using the issue tracker on GitHub.

ACKNOWLEDGEMENTS
       Many of the existing template / interpolate / substitute modules.

COPYRIGHT & LICENSE
       Copyright 2018,2025 Johan Vromans, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.

perl v5.40.1                                                                                     2025-08-15                                                                 String::Interpolate::Named(3pm)
