CEPH RADOS MUTEX(7)                                                                    CTDB - clustered TDB database                                                                    CEPH RADOS MUTEX(7)

NAME
       ctdb_mutex_ceph_rados_helper - Ceph RADOS cluster mutex helper

DESCRIPTION
       ctdb_mutex_ceph_rados_helper can be used as a cluster lock provider for CTDB. When configured, split brain avoidance during CTDB recovery will be handled using locks against an object located in a
       Ceph RADOS pool. To enable this functionality, include the following line in the [cluster] section of ctdb.conf(5):

           cluster lock = !ctdb_mutex_ceph_rados_helper [Cluster] [User] [Pool] [Object] [Timeout] [-n Namespace] [-R]

           Cluster: Ceph cluster name (e.g. ceph)
           User: Ceph cluster user name (e.g. client.admin)
           Pool: Ceph RADOS pool name
           Object: Ceph RADOS object name
           Timeout: Ceph RADOS lock duration in seconds (optional)
           Namespace: Ceph RADOS pool namespace (optional)
           No-register (-R): Skip registering the mutex helper as a ceph service

       The Ceph cluster Cluster must be up and running, with a configuration, and keyring file for User located in a librados default search path (e.g. /etc/ceph/).  Pool must already exist.

       For informational purposes, ctdb_mutex_ceph_rados_helper will also register the cluster lock holder in Ceph Manager's service map.

SEE ALSO
       ctdb(7), ctdbd(1), http://ctdb.samba.org/

AUTHOR
       This documentation was written by David Disseldorp

COPYRIGHT
       Copyright Â© 2016 David Disseldorp

       This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the
       License, or (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
       General Public License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not, see http://www.gnu.org/licenses.

ctdb                                                                                             10/15/2025                                                                             CEPH RADOS MUTEX(7)
