AVMCAPICTRL(8)                                                                            Linux System Administration                                                                            AVMCAPICTRL(8)

NAME
       avmcapictrl - Add, reset or remove active AVM cards and load firmware

SYNOPSIS
       avmcapictrl add <portbase> <irq> <type>
       avmcapictrl load <bootcode> [<contrnr> [<protocol>
           [P2P | <dn1>:<spid1> [<dn2>:<spid2>]]]]
       avmcapictrl reset [contrnr]
       avmcapictrl remove [contrnr]
       avmcapictrl trace [contrnr] [off|short|on|full|shortnodata|nodata]
       avmcapictrl addcard <driver> <portbase> <irq> [ <membase> [ <cardnr> ] ]

DESCRIPTION
       avmcapictrl  is  used  to  register  active  AVM ISA cards to the kernelcapi system and therewith to the ISDN system. You need it also to upload the firmware to any active AVM card. If an error occurs
       please also check the kernel error messages using the command dmesg(8).

COMMANDS
       add <portbase> <irq> <type>
            is used to add an ISA card to the kernel-capi2.0 system.  The portbase can have the values 0x150, 0x250, 0x300 and 0x340 for the B1 ISA cards, look at the jumper on the card.  For a T1-ISA (HEMA)
            card you can select a wide range of ports.
            irq can be selected from the following values:
            3, 4, 5, 6, 7, 9, 10, 11, 12 and 15.
            type can be B1 or T1.

       load <bootcode> [<contrnr> [<protocol>
            [P2P  |  <dn1>:<spid1>  [<dn2>:<spid2>]]]]  is used to load the firmware to a card bootcode is a t4-file. The actual versions of the t4-files for the different D channel protocols can be found at
            ftp://ftp.in-berlin.de/pub/capi4linux/firmware/b1/
            You need different t4-files for different D channel protocols: b1-1tr6.t4 for 1TR6, b1.t4 for DSS1 and
            b1-usa.t4 for 5ESS and NI1 (DSS1 is also supported).
            For M1/M2 PCMCIA cards you need m1-s10.t4 or m1-s4.t4 depending on the handy type used.
            contrnr is the number of the controller (card) starting from 1.
            protocol can be DSS1, CT1, VN3, AUSTEL, 5ESS or NI1.
            P2P point to point
            DN1:SPID1 DN2:SPID2 is for the american protocols 5ESS and NI1.

       reset [contrnr]
            is used to reset a card if loading has failed.  This function only makes sense if a card is not successfully loaded.
            contrnr is the number of the controller (card) starting from 1.

       remove [contrnr]
            is used to remove a card previously added. You can also remove cards added automatically (for example a B1-PCI card).
            contrnr is the number of the controller (card) starting from 1.

       trace [contrnr] [off|short|on|full|shortnodata|nodata]
            is used to trace CAPI2.0 messages. The trace will be done as kernel messages, see dmesg(8).
            contrnr is the number of the controller (card) starting from 1.
            off switch off tracing
            short switch on "one line per CAPI2.0 message" tracing
            on | full switch on "full decode" tracing
            shortnodata switch on "one line per CAPI2.0 message" tracing, but exclude DATA_B3_IND and DATA_B3_REQ messages.
            on | full switch on full decode tracing, but exclude DATA_B3_IND and DATA_B3_REQ messages.

       addcard <driver> <portbase> <irq> [ <membase> [ <cardnr> ] ]
            is used to add a card, this is more generic than add.
            driver currently b1isa or t1isa
            portbase can have the values 0x150, 0x250, 0x300 and 0x340 for the b1isa driver, look at the jumper on the card.  For t1isa driver you can select an wide range of ports.
            irq can be selected from the following values: 3, 4, 5, 6, 7, 9, 10, 11, 12 and 15.
            membase memory address if needed by driver
            cardnr only useful with driver t1isa

AUTHOR
       Carsten Paeth <calle@calle.in-berlin.de>

SEE ALSO
       ttyI(4), isdnctrl(8), isdninfo(4).  dmesg(8).  syslogd(8).

4th Berkeley Distribution                                                                          2000/01/28                                                                                    AVMCAPICTRL(8)
