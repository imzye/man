
ethreport(8)                                                                                 EFSFFCLIRG (Man Page)                                                                                 ethreport(8)

NAME
       ethreport

       Provides powerful fabric analysis and reporting capabilities. Must be run on a host connected to the Intel(R) Ethernet Fabric with the Intel(R) Ethernet Fabric Suite FastFabric Toolset installed.

Syntax
       ethreport  [-v][-q] [--timeout] [-o  report]
       [-d  detail] [-N] [-x] [-X  snapshot_input] [-T  topology_input]
       [-A] [-c  file] [-L] [-F  point] [-Q] [-E  file]

Options
       --help

                 Produces full help text.

       -v/--verbose

                 Returns verbose output.

       -q/--quiet

                 Disables progress reports.

       --timeout

                 Specifies the timeout (wait time for response) in ms. Default is 1000 ms.

       -o/--output report

                 Specifies the report type for output. Refer to Report Types for details.

       -d/--detail level

                 Specifies the level of detail 0-n for output. Default is 2.

       -N/--noname

                 Omits node.

       -x/--xml

                 Produces output in XML.

       -X/--infile snapshot_input

                 Generates  a  report  using  the  data in the snapshot_input file. snapshot_input must have been generated during a previous -o snapshot run. '-' may be used as the snapshot_input to specify
                 stdin.

       -T/--topology topology_input

                 Uses topology_input file to augment and verify fabric information. When used, various reports can be augmented with information not available electronically.  '-'  may  be  used  to  specify
                 stdin.

       -A/--allports

                 Gets PortInfo for down switch ports.

       -c/--config file

                 Specifies the error thresholds configuration file. Default is /etc/eth-tools/ethmon.conf file.

       -E/--ethconfig file

                 Specifies the Intel Ethernet configuration file. Default is /etc/eth-tools/mgt_config.xml file.

       -L/--limit

                 Limits operation to exact specified focus with -F for port error counters check (-o errors). Normally, the neighbor of each selected port is also checked. Does not affect other reports.

       -F/--focus point

                 Specifies the focus area for report.

                 Limits output to reflect a subsection of the fabric. May not work with all reports. (For example, the verify* reports may ignore the option or not generate useful results.)

       -Q/--quietfocus

                 Excludes focus description from report.

Report Types
       comps

                 Summary of all systems in fabric.

       brcomps

                 Brief summary of all systems in fabric.

       nodes

                 Summary of all node types in fabric.

       brnodes

                 Brief summary of all node types in fabric.

       ifids

                 Summary of all ifids in the fabric.

       linkinfo

                 Summary of all links with ifids in the fabric.

       links

                 Summary of all links.

       extlinks

                 Summary of links external to systems.

       niclinks

                 Summary of links to NICs.

       islinks

                 Summary of inter-switch links.

       extislinks

                 Summary of inter-switch links external to systems.

       slowlinks

                 Summary of links running slower than expected.

       slowconfiglinks

                 Summary of links configured to run slower than supported, includes slowlinks.

       slowconnlinks

                 Summary of links connected with mismatched speed potential, includes slowconfiglinks.

       misconfiglinks

                 Summary of links configured to run slower than supported.

       misconnlinks

                 Summary of links connected with mismatched speed potential.

       errors

                 Summary of links whose errors exceed counts in the configuration file.

       otherports

                 Summary of ports not connected to the fabric.

       verifynics

                 Compares fabric (or snapshot) NICs to supplied topology and identifies differences and omissions.

       verifysws

                 Compares fabric (or snapshot) switches to supplied topology and identifies differences and omissions.

       verifynodes

                 Returns verifynics and verifysws reports.

       verifylinks

                 Compares fabric (or snapshot) links to supplied topology and identifies differences and omissions.

       verifyextlinks

                 Compares fabric (or snapshot) links to supplied topology and identifies differences and omissions. Limits analysis to links external to systems.

       verifyniclinks

                 Compares fabric (or snapshot) links to supplied topology and identify differences and omissions. Limits analysis to links to NICs.

       verifyislinks

                 Compares fabric (or snapshot) links to supplied topology and identify differences and omissions. Limits analysis to inter-switch links.

       verifyextislinks

                 Compares fabric (or snapshot) links to supplied topology and identify differences and omissions. Limits analysis to inter-switch links external to systems.

       verifyall

                 Returns verifynics, verifysws, and verifylinks reports.

       all

                 Returns comps, nodes, links, extlinks, slowconnlinks, and errors reports.

       snapshot

                 Outputs snapshot of the fabric state for later use as snapshot_input. This implies -x. May not be combined with other reports. When selected, -F and -N options are ignored.

       topology

                 Outputs the topology of the fabric for later use as topology_input. This implies -x. May not be combined with other reports. Use with detail level 3 or more to get Port element under Node in
                 output xml.

       fabricinfo

                 Fabric information.

       none

                 No report.

Point Syntax
       ifid:value

                 value is numeric ifid.

       ifid:value:node

                 value is numeric ifid, selects node with given ifid.

       ifid:value:port:value2

                 value is numeric ifid of node, value2 is port number.

       mgmtifaddr:value

                 value is numeric port mgmtifaddr.

       ifaddr:value

                 value is numeric node ifaddr.

       ifaddr:value1:port:value2

                 value1 is numeric node ifaddr, value2 is port number.

       chassisid:value

                 value is numeric chassisid.

       chassisid:value1:port:value2

                 value1 is numeric chassisid, value2 is port number.

       node:value

                 value is node description (node name).

       node:value1:port:value2

                 value1 is node description (node name), value2 is port number.

       nodepat:value

                 value is glob pattern for node description (node name).

       nodepat:value1:port:value2

                 value1 is the glob pattern for the node description (node name), value2 is port number.

       nodedetpat:value

                 value is glob pattern for node details.

       nodedetpat:value1:port:value2

                 value1 is the glob pattern for the node details, value2 is port number.

       nodetype:value

                 value is node type (SW or NIC).

       nodetype:value1:port:value2

                 value1 is node type (SW or NIC), value2 is port number.

       rate:value

                 value is string for rate (25g, 50g, 75g, 100g), omits switch mgmt port 0.

       portstate:value

                 value is a string for state (up, down, testing, unknown, dormant, notactive).

       portphysstate:value

                 value is a string for PHYs state (other, unknown, operational, standby, shutdown, reset)

       mtucap:value

                 value is MTU size (maximum size 65535), omits switch mgmt port 0.

       linkdetpat:value

                 value is glob pattern for link details.

       portdetpat:value

                 value is glob pattern for port details.

       nodepatfile:FILENAME

                 Specifies the name of file with the list of nodepats or node descriptions.

       nodepairpatfile:FILENAME

                 Specifies the name of file with the list of node pairs, separated by a colon.

       ldr

                 Specifies the ports with a non-zero link down reason or neighbor link down reason.

       ldr:value

                 Specifies the ports with a link down reason or neighbor link down reason equal to value.

Examples
       ethreport can generate hundreds of different reports. Commonly generated reports include the following:   ethreport -o comps -d 3

         ethreport -o errors -o slowlinks

         ethreport -o nodes -F mgmtifaddr:0x00066a00a000447b

         ethreport -o nodes -F ifaddr:0x001175019800447b:port:1

         ethreport -o nodes -F ifaddr:0x001175019800447b

         ethreport -o nodes -F 'node:duster-eth2'

         ethreport -o nodes -F 'node:duster-eth2:port:1'

         ethreport -o nodes -F 'nodepat:d*'

         ethreport -o nodes -F 'nodepat:d*:port:1'

         ethreport -o nodes -F 'nodedetpat:compute*'

         ethreport -o nodes -F 'nodedetpat:compute*:port:1'

         ethreport -o nodes -F nodetype:NIC

         ethreport -o nodes -F nodetype:NIC:port:1

         ethreport -o nodes -F ifid:1

         ethreport -o nodes -F ifid:1:node

         ethreport -o nodes -F ifid:1:port:2

         ethreport -o nodes -F chassisid:0x001175019800447b

         ethreport -o nodes -F chassisid:0x001175019800447b:port:1

         ethreport -o extlinks -F rate:100g

         ethreport -o extlinks -F portstate:up

         ethreport -o extlinks -F portphysstate:operational

         ethreport -o extlinks -F 'portdetpat:*mgmt*'

         ethreport -o links -F mtucap:2048

         ethreport -o snapshot > file

         ethreport -o topology > topology.xml

         ethreport -o errors -X file

Copyright(C) 2020                                                                              Intel Corporation                                                                                   ethreport(8)
