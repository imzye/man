AWIT-DBACKUP(8)                                                                           System Manager's Manual                                                                           AWIT-DBACKUP(8)

NAME
       dbackup — AWIT-DBackup is a powerful per-directory backup utility.

SYNOPSIS
       dbackup [GENERAL_OPTIONS]  [--backup BACKUP_OPTIONS  | --restore RESTORE_OPTIONS ]  [SRC]  [DST]

DESCRIPTION
       This  is  a backup software package which creates one archive per directory it backs up. This makes searching through the backup much easier as you can look for which files you're after in the di‐
       rectory hierarchy. It will only backup directories which have changed, which makes it rsync friendly.

GENERAL OPTIONS
       --config FILE
                 Configuration file to use.

       --log-level
                 5 = debug, 4 = info, 3 = notice, 2 = warning, 1 = error

       --backup  Perform a backup operation.

       --restore Perform a restore operation.

       --tar     Path to tar binary. This should almost never need to be specified, it is used to specify a different tar binary to use other than the default system binary. Some versions of tar used  to
                 have bugs preventing correct operation, this allowed specification of an alternative binary to use.

       --manifest-format
                 Manifest  format  to use, currently the two supported formats is "null" for \0 (null) termination of entries or "newline" for \n (newline) termination of entries. This should not need to
                 be overridden.

       --help    Display commandline help.

BACKUP OPTIONS
       --backup-upgrade
                 Upgrade backup to new dbackup version. This will cause all archives to be refreshed if they were generated with an older version of AWIT DBackup.

       --compress <gzip|bzip2|xz|lz|none>
                 Compression method to use. Defaults to using xz, or bzip2 if xz is unavailable. Parallel versions of these Compression programs will be used if they exist. Here is the order  compression
                 programs are looked for: gzip = pigz > gzip, bzip2 = pbzip2 > lbzip2 > bzip2, xz = pxz > pixz > xz, lz = plzip > pdlzip > clzip.

       --exclude-data
                 Exclude the most common data directories which contain temporary or state information or which is not useful, a list of these is displayed by running dbackup --help.

       --exclude-system
                 Exclude the most common system directories including /dev, /proc/, /sys, /run, for the complete list see dbackup --help.

       --exclude-path PCRE
                 Exclude a path based on a Perl regular expression, this should include separators and can be specified multiple times.  eg. --exclude-path=',/old$,'

       --exclude-file PCRE
                 Exclude files based on a regular expression, this should include separators and can be specified multiple times.  eg. --exclude-file='/.bak$/'

       --exclude-fs FSTYPE
                 Exclude filesystem types from being transversed for backup. This can be specified multiple times. eg. --exclude-fs=shm

       --system-dir PATH
                 Add an additional system directory to exclude. The system defaults already include /dev, /run, /tmp... etc. This can be specified multiple times.

       --data-dir PATH
                 Add  an  additional  data  directory  to  exclude.  The  data  directory  defaults  already  include  /var/lib/mysql,  /var/lib/pgsql, /var/amavis/tmp/, /var/spool/squid, /var/cache/yum,
                 /var/cache/apt/archives ... etc. This can be specified multiple times.

       --system-base PATH
                 System base to apply the exclusions to. This can be specified multiple times.

       --tar-ignore-failed-read
                 This is passed to tar only. It will not cause errors if files that cannot be read.

RESTORE OPTIONS
       --tar-keep-newer
                 Pass --keep-newer to tar. Don't replace existing files that are newer than their archive copies.

       --tar-keep-old-files
                 Pass --keep-old-files to tar. Don't replace existing files when extracting, rather throw an error.

SEE ALSO
       tar(1).

AUTHOR
       This manual page was written by Nigel Kukard <nkukard@lbsd.net>.  Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 3
       any later version published by the Free Software Foundation.

       On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL-3.

                                                                                                                                                                                            AWIT-DBACKUP(8)
