mount.ocfs2(8)                                                                                 OCFS2 Manual Pages                                                                                mount.ocfs2(8)

NAME
       mount.ocfs2 -  mount an OCFS2 filesystem

SYNOPSIS
       mount.ocfs2 [-vn] [-o options] device dir

DESCRIPTION
       mount.ocfs2 mounts an OCFS2 filesystem at dir. It is usually invoked indirectly by the mount(8) command.

OPTIONS
       _netdev
              Indicates  that the file system resides on a device that requires network access (used to prevent the system from attempting to mount these filesystems until the network has been enabled on the
              system). mount.ocfs2(8) transparently appends this option during mount. However, users mounting the volume via /etc/fstab must explicitly specify this mount option  to  delay  the  system  from
              mounting the volume until after the network has been enabled.

       noatime
              The file system will not update access time.

       relatime
              The file system will update atime only if the on-disk atime is older than mtime or ctime. This is the default mode.

       strictatime,atime_quantum=nrsec
              The  file system will always perform atime updates, but the minimum update interval is specified by atime_quantum which defaults to 60 secs. Set it to zero to always update atime. These two op‐
              tions need work together.

       [no]acl
              Enables / disables POSIX ACLs (access control lists) support. It is enabled by default.

       [no]user_xattr
              Enables / disables extended user attributes. It is enabled by default.

       commit=nrsec
              Sync all data and metadata every nrsec seconds. The default value is 5 seconds.  Zero means default.

       data=[ordered|writeback]
              Specifies the handling of file data during metadata journalling.

              ordered
                     This is the default mode. Data is flushed to disk before the corresponding meta-data is committed to the journal.

              writeback
                     Data  ordering is not preserved - data may be flushed to disk after the corresponding meta-data is committed to the journal. This is rumored to be the higher-throughput option. While  it
                     guarantees internal file system integrity, it can allow old data to appear in files after a crash and journal recovery.

       errors=[remount-ro|errors=panic|errors=continue]
              Specifies the behavior when an on-disk corruption is encountered.

              remount-ro
                     This is the default mode. The file system is remounted read-only.

              panic  The system is halted via panic.

              continue
                     Ignore errors. Just log error message, return error code to the calling process and continue.

       localflocks
              This disables cluster-aware flock(2).

       coherency=[full|coherency]
              Specifies the extent of coherency for the cached file data across the cluster.  This mount option works with Linux kernel 2.6.37 and later.

              full   This is the default mode. The file system ensures the cached file data is coherent across the cluster for all IO modes.

              buffered
                     The  file system only ensures the cached file data coherency for buffered mode IOs.  It does not perform IO serialization for direct IOs. This allows multiple nodes to perform concurrent
                     direct IOs to the same file. This is the recommended mode for volumes hosting database files.

       resv_level=level
              Specifies the level of allocation reservation for files. The higher the value, the more aggressive it is. Valid values are between 0 (reservation off) to 8 (maximum space for  reservation).  It
              defaults to 2. This mount option works with Linux kernel 2.6.35 and later.

       dir_resv_level=level
              By  default,  directory reservation scales with file reserveration. Users should rarely need to change this value. If the file allocation reservation is turned off, this option will have no ef‐
              fect. This mount option works with Linux kernel 2.6.35 and later.

       inode64
              Indicates that the file system can create inodes at any location in the volume, including those which will result in inode numbers greater than 4 billion.

       nocluster
              This option allows users to mount a clustered volume without configuring the cluster stack.  However, you must be aware that you can only mount the file system from one node at the  same  time,
              otherwise, the file system may be damaged. Please use it with caution.

       [no]intr
              Specifies whether a signal can interrupt IOs. It is disabled by default.

       ro     Mount the file system read-only.

       rw     Mount the file system read-write.

NOTES
       To mount and umount a OCFS2 volume, do:

       # mount /dev/sda1 /mount/path
        ...
       # umount /mount/path

       Users mounting a clustered volume should be aware of the following:

           1. The cluster stack must to be online for a clustered mount to succeed.

           2. The clustered mount operation is not instantaneous; it must wait for the node to join the DLM domain.

           3. Likewise, clustered umount is also not instantaneous; it involves migrating all mastered lock-resources to the other nodes in the cluster.

       If  the  mount  fails,  detailed errors can be found via dmesg(8). These might include incorrect cluster configuration (say, a missing node or incorrect IP address) or a firewall interfering with o2cb
       network traffic. Check the configuration as listed in o2cb(7) or the man page of the active cluster stack.

       To auto-mount volumes on startup, the file system tools include an ocfs2 init service.  This runs after the o2cb init service has started the cluster. The ocfs2 init service mounts all  OCFS2  volumes
       listed in /etc/fstab.

       # chkconfig --add o2cb
       o2cb 0:off 1:off 2:on 3:on 4:off 5:on 6:off

       $ chkconfig --add ocfs2
       o2cb 0:off 1:off 2:on 3:on 4:off 5:on 6:off

       $ cat /etc/fstab
        ...
       /dev/sda1     /u01     ocfs2     _netdev,defaults     0  0
        ...

SEE ALSO
       debugfs.ocfs2(8) fsck.ocfs2(8) mkfs.ocfs2(8) mounted.ocfs2(8) o2cb(7) o2cluster(8) o2image(8) o2info(1) tunefs.ocfs2(8)

AUTHORS
       Oracle Corporation

COPYRIGHT
       Copyright © 2004, 2012 Oracle. All rights reserved.

Version 1.8.7                                                                                     January 2012                                                                                   mount.ocfs2(8)
