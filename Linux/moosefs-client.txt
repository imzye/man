mfsbdev.cfg(5)                                                                            This is part of MooseFS                                                                            mfsbdev.cfg(5)

NAME
       mfsbdev.cfg - MooseFS block device daemon config file

DESCRIPTION
       This  is  the config file that can be read by the mfbsdev tool if the -i option was supplied along with the start command. The file contains definitions of block devices (one per line) that should
       be initialized when mfsbdev tool is started.

       It is strongly recommended to not create this file from scratch. Instead, it's best to create all the necessary devices using mfsbdev command and its parameters, as  described  in  mfsbdev(8)  and
       then list them with the mfsbdev list -i command and use the output to create a config file. The following description is provided so it explains the content of the config file and allows to adjust
       it if necessary.

   FORMAT
       Empty lines and lines that start with a semicolon (;) or hash (#) sign are ignored. Every other line should match the format:

       path [ device|* [ linkname|* [ size|* [ bsize|* [ flags ]]]]]

       path  information  is  obligatory  and  should be a path to a file on MooseFS that will be used as the block device; the path should be relative to MooseFS root or path defined with -S option when
       starting mfsbdev, not your local file system root

       device information is optional, if supplied should point to a network block device path (eg. /dev/nbd1); if not present or * is supplied, first available block device will be used

       linkname information is optional, if supplied should indicate the name of symbolic link created in '/dev/mfs', pointing at the network block device created by the map command; if not present or  *
       is supplied, default link name will be used

       size information is optional, if supplied indicates block device size; if not present or * is supplied, the size of the file indicated by the first parameter is used

       bsize information is optional, if supplied indicates block size; if not present or * is supplied, 4096 bytes block is used

       flags  information  is  optional, can contain the following flags (separated by comma if more than one is listed) ro - read only device, rw read/write device, lock - device requires an appropriate
       type of lock (shared for ro, exlusive for rw), nolock - device does not require a lock (will try to obtain it, but will ignore failure); if nothing is supplied, the default of rw, lock is assumed;
       if two conflicting flags are supplied (i.e. ro and rw or lock and nolock) the last one wins

EXAMPLES
       Create read/write devices with default block device path, default linkname, using file size as device size, with default block size:

       my_devices/device1

       my_devices/device2 * * * * rw

       Create read only devices with specific parameters:

       my_devices/device1 /dev/nbd3 mfsdevice1 67108864 1024 ro

       my_devices/device2 /dev/nbd7 mfsdevice2 64MiB 1024 ro,nolock

REPORTING BUGS
       Report bugs to <bugs@moosefs.com>.

COPYRIGHT
       Copyright (C) 2025 Jakub Kruszona-Zawadzki, Saglabs SA

       This file is part of MooseFS.

       MooseFS is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2 (only).

       MooseFS is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the  GNU  General
       Public License for more details.

       You  should  have received a copy of the GNU General Public License along with MooseFS; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02111-1301, USA
       or visit http://www.gnu.org/licenses/gpl-2.0.html

SEE ALSO
       mfsmount(8), mfsbdev(8)

MooseFS 4.58.1-1                                                                                October 2025                                                                                 mfsbdev.cfg(5)
