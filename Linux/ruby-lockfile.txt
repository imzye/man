RLOCK(1)                                                                                  General Commands Manual                                                                                  RLOCK(1)

NAME
       rlock - run program with a lockfile

SYNOPSIS
       rlock [options] lockfile program [args]

       rlock [options] lockfile -- program options [args]

DESCRIPTION
       rlock  creates NFS safe lockfiles.  it can optionally run a program while holding the lock, ensuring lockfile removal on program exit.  if a program is specified to be run rlock will spawn a back‚Äê
       ground thread to kept the lockfile 'fresh' by touching it at a regular interval.  in this way a lease is maintained on the lockfile and other processes attempting to obtain the lock can  determine
       that it is in use.  see the '--refresh' option for how to control the touch interval.  any other process trying to obtain a lock will automatically remove a stale lockfile; a stale lockfile is one
       that is older than a certain age.  this age be controled via the '--max_age' option.

ENVIRONMENT
       LOCKFILE_DEBUG=1
              causes internal actions of the library to be shown on STDERR.

DIAGNOSTICS
       rlock attempts to exit with the status of 'program' except where it cannot due to exceptional conditions.  in addition the message

       'RLOCK SUBCOMMAND FAILURE'

       will be printed on STDERR if 'program' exits with non-zero status.

AUTHOR
       lockfile was written by Ara T. Howard <ara.t.howard@noaa.gov>.

       This manual page was converted by Decklin Foster <decklin@red-bean.com> for the Debian project (but may be used by others).

                                                                                                 2008-10-11                                                                                        RLOCK(1)
