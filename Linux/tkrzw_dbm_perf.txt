TKRZW_DBM_PERF(1)                                                                                User Commands                                                                                TKRZW_DBM_PERF(1)

NAME
       tkrzw_dbm_perf - manual page for tkrzw_dbm_perf 1.0.21

DESCRIPTION
       tkrzw_dbm_perf: Performance checker of DBM implementations of Tkrzw

   Usage:
              tkrzw_dbm_perf sequence [options]

              : Checks setting/getting/removing performance in sequence.

              tkrzw_dbm_perf parallel [options]

              : Checks setting/getting/removing performance in parallel.

              tkrzw_dbm_perf wicked [options]

              : Checks consistency with various operations.

              tkrzw_dbm_perf index [options]

              : Checks performance of on-memory indexing.

   Common options:
       --dbm impl : The name of a DBM implementation: auto, hash, tree, skip, tiny, baby, cache, stdhash, stdtree, poly, shard. (default: auto)

       --iter num : The number of iterations. (default: 10000)

       --size num : The size of each record value. (default: 8)

       --threads num : The number of threads. (default: 1)

       --random_seed num : The random seed or negative for real RNG. (default: 0)

       --verbose : Prints verbose reports.

       --path path : The path of the file to write or read.

       --file impl : The name of a file implementation: std, mmap-para, mmap-atom, pos-para, pos-atom. (default: mmap-para)

       --no_wait : Fails if the file is locked by another process.

       --no_lock : Omits file locking.

       --sync_hard : Synchronizes the file physically when closing.

       --alloc_init num : The initial allocation size. (default: 1048576)

       --alloc_inc num : The allocation increment factor. (default: 2.0)

       --block_size num : The block size of the positional access file. (default: 1)

       --direct_io : Enables the direct I/O option of the positional access file.

       --sync_io : Enables the synchronous I/O option of the positional access file.

       --padding : Enables padding at the end of the file.

       --pagecache : Enables the mini page cache in the process.

       --ulog str : Sets the prefix of update log files.

   Options for the sequence subcommand:
       --random_key : Uses random keys rather than sequential ones.

       --random_value : Uses random length values rather than fixed ones.

       --set_only : Does only setting.

       --get_only : Does only getting.

       --remove_only : Does only removing.

       --validate : Validates records.

       --copy str : Copies the database file.

   Options for the parallel subcommand:
       --random_key : Uses random keys rather than sequential ones.

       --random_value : Uses random length values rather than fixed ones.

       --keys : The number of unique keys.

       --rebuild : Rebuilds the database occasionally.

       --sleep num : The duration to sleep between iterations. (default: 0)

       --validate : Validates records.

   Options for the wicked subcommand:
       --iterator : Uses iterators occasionally.

       --clear : Clears the database occasionally.

       --rebuild : Rebuilds the database occasionally.

       --validate : Validates records.

   Options for the index subcommand:
       --type expr : The types of the key and value of the index: file, mem, n2n, n2s, s2n, s2s, str, file. (default: file)

       --random_key : Uses random keys rather than sequential ones.

       --random_value : Uses random length values rather than fixed ones.

   Options for HashDBM:
       --append : Uses the appending mode rather than the in-place mode.

       --record_crc num : The record CRC mode: -1, 0, 8, 16, 32. (default: 0 or -1)

       --record_comp str : The record compression mode: default, none, zlib, zstd, lz4, lzma. (default: none or default)

       --offset_width num : The width to represent the offset of records. (default: 4)

       --align_pow num : Sets the power to align records. (default: 3)

       --buckets num : Sets the number of buckets for hashing. (default: 1048583)

       --fbp_cap num : Sets the capacity of the free block pool. (default: 2048)

       --min_read_size num : Sets the minimum reading size to read a record. (default: -1)

       --cache_buckets : Caches the hash buckets on memory.

   Options for TreeDBM and FileIndex:
       --append : Uses the appending mode rather than the in-place mode.

       --record_crc num : The record CRC mode: -1, 0, 8, 16, 32. (default: 0 or -1)

       --record_comp str : The record compression mode: default, none, zlib, zstd, lz4, lzma. (default: none or default)

       --offset_width num : The width to represent the offset of records. (default: 4)

       --align_pow num : Sets the power to align records. (default: 10)

       --buckets num : Sets the number of buckets for hashing. (default: 131101)

       --fbp_cap num : Sets the capacity of the free block pool. (default: 2048)

       --min_read_size num : Sets the minimum reading size to read a record. (default: -1)

       --cache_buckets : Caches the hash buckets on memory.

       --max_page_size num : Sets the maximum size of a page. (default: 8130)

       --max_branches num : Sets the maximum number of branches of inner nodes. (default: 256)

       --max_cached_pages num : Sets the maximum number of cached pages. (default: 10000)

   Options for SkipDBM:
       --offset_width num : The width to represent the offset of records. (default: 4)

       --step_unit num : Sets the step unit of the skip list. (default: 4)

       --max_level num : Sets the maximum level of the skip list. (default: 14)

       --sort_mem_size num : Sets the memory size used for sorting. (default: 268435456)

       --insert_in_order : Inserts records in ascending order of the key.

       --max_cached_records num : Sets the number of cached records (default: 65536)

       --reducer func : Sets the reducer: none, first, second, last, concat, total. (default: none)

   Options for TinyDBM and StdHashDBM:
       --buckets num : Sets the number of buckets for hashing. (default: 1048583)

   Options for CacheDBM:
       --cap_rec_num num : Sets the maximum number of records. (default: 1048576)

       --cap_memsize num : Sets the total memory size to use.

   Options for PolyDBM and ShardDBM:
       --params str : Sets the parameters in "key=value,key=value" format.

tkrzw_dbm_perf 1.0.21                                                                            November 2021                                                                                TKRZW_DBM_PERF(1)
