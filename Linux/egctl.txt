egctl(1)                                                                                  General Commands Manual                                                                                  egctl(1)

NAME
       egctl - EnerGenie EG-PMS-LAN/WLAN control utility

SYNOPSIS
       egctl NAME [S1 S2 S3 S4]

DESCRIPTION
       egctl  is  a  program  to control the state of EnerGenie Programmable surge protector with LAN/WLAN interface. It uses native data exchange protocol of the device, not HTTP. When executed with the
       only argument it dumps the state of the specified device. If all five arguments are specified, it changes the state of the device and dumps the new state.

OPTIONS
       NAME   The name of the device to control (as it is specified in the configuration file). This name has no relation to the IP address or the domain name.

       Sn     The action to perform on n-th socket. Possible values are: on, off, toggle and left.

CONFIGURATION
       Configuration file is a table of devices. Each device is described on a separate line; fields on each line are separated by tabs or spaces.  Lines starting with '#' are comments, blank  lines  are
       ignored.

       The first field
              Name of device. It is a string that will be used to address the device in the utility commands. It is not necessary to be the same as Server name in the web interface.

       The second field
              Protocol. Supported protocols are: pms20, pms21, and pmswlan.

       The third field
              IP address of device.

       The fourth field
              TCP port of device.  (Power Manager client port in the web interface).

       The fifth field
              Optional plain-text password.

SUPPORTED DEVICES
       Device        Protocol
       ───────────────────────
       EG-PMS-LAN    pms20
       EG-PM2-LAN    pms21
       EG-PMS2-LAN   pms21
       EG-PMS-WLAN   pmswlan

EXAMPLES
       Suppose a user has two EG-PMS-LAN devices configured as follows:

              1. 192.168.0.10, port 5000, password hackme
              2. 192.168.10.10, port 5001, password hackmesoftly

       In order to control them using the utility the user needs to create a configuration file like the following:

              eg1 pms20 192.168.0.10  5000 hackme
              eg2 pms20 192.168.10.10 5001 hackmesoftly

       Now she can get the status of the devices with commands

              egctl eg1
              egctl eg2

       and switch the state of the AC power sockets with a command like

              egctl eg1 on left left off

FILES
       ~/.egtab
              user's configuration file

       /etc/egtab
              system-wide configuration file

BUGS
       This program cannot modify the internal schedule of the device.

AUTHOR
       Written by Vitaly Sinilin <vs@kp4.ru>

TRADEMARKS
       EnerGenie is a registered trademark of Gembird Holding B.V.

egctl                                                                                            2 Jan 2023                                                                                        egctl(1)
