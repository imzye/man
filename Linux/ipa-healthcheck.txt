ipa-healthcheck(8)           FreeIPA Manual Pages           ipa-healthcheck(8)

NAME
       ipa-healthcheck - Check on the health of an IPA installation

SYNOPSIS
       ipa-healthcheck [OPTION]...

DESCRIPTION
       An  IPA installation is a complex system and identifying real or poten‐
       tial issues can be difficult and require a lot of analysis.  This  tool
       aims  to  reduce  the burden of that and attempts to identify issues in
       advance so they can be corrected, ideally before the issue is critical.

   ORGANIZATION
       These areas of the system to check can be logically  grouped  together.
       This  grouping  is  called  a  source. A source consists of one or more
       checks.

       A check is as atomic as possible to limit the scope and complexity  and
       provide  a  yes/no  answer  on whether that particular configuration is
       correct.

       Each check will return a result, either a result of WARNING,  ERROR  or
       CRITICAL  or  SUCCESS.  Returning  SUCCESS tells you that the check was
       done and was deemed correct. This should help track when the last  time
       something was examined.

       Upon failure the output will include the source and check that detected
       the failure along with a message and name/value  pairs  indicating  the
       problem. It may very well be that the check can't make a final determi‐
       nation and generally defaults to WARNING if it can't be sure so that it
       can be examined.

   IMPLEMENTATION DETAILS
       There  is no need for users to authenticate and get a ticket in advance
       for ipa-healthcheck to work. Existing  tickets  will  not  be  used  as
       ipa-healthcheck  will leverage the host keytab and use a temporary cre‐
       dential cache.

OPTIONS
   COMMANDS
       --list-sources
              Display a list of the available sources and the  checks  associ‐
              ated with those sources.

   OPTIONAL ARGUMENTS
       --source=SOURCE
              Execute  checks  within  the named source, or all sources in the
              given namespace.

       --check=CHECK
              Execute this particular check within a source. The exact  source
              must also be specified via --source.

       --output-type=TYPE
              Set  the output type. Supported variants are human and json. The
              default is json.

       --failures-only
              Exclude SUCCESS results on output. If stdin is a tty  then  this
              will default to True. In all other cases it defaults to False.

       --all  Report all results.

       --severity=SEVERITY
              Only  report  errors in the requested severity of SUCCESS, WARN‐
              ING, ERROR or CRITICAL. This can be provided multiple  times  to
              search on multiple levels.

       --verbose
              Generate verbose output.

       --debug
              Generate additional debugging output.

   JSON OUTPUT
       The  results  are displayed as a list of result messages for each check
       executed in JSON format. This could be input for a monitoring system.

       --output-file=FILENAME
              Write the output to this filename rather than stdout.

       --input-file=FILENAME
              Read the results of a previous run and re-display them.

       --indent=INDENT
              Pretty-print the JSON with this indention level. This  can  make
              the output more human-readable.

   HUMAN-READABLE OUTPUT
       The results are displayed in a more human-readable format.

       --input-file=FILENAME
              Take as input a JSON results output and convert it to a more hu‐
              man-readable form.

EXAMPLES
       Execute healthcheck with the default JSON output:

       # ipa-healthcheck

       Execute healthcheck with a prettier JSON output:

       # ipa-healthcheck --indent 2

       Execute healthcheck and only display errors:

       # ipa-healthcheck --failures-only

       Display in human-readable output a previous report:

       # ipa-healthcheck --output-type human --input-file \
               /var/log/ipa/healthcheck/healthcheck.log

FILES
       /etc/ipahealthcheck/ipahealthcheck.conf

EXIT STATUS
       0 if all checks were successful

       1 if any one check failed or the command failed to execute properly

INTERNET RESOURCES
       Main website:  https://www.freeipa.org/

       Git             repository             for             ipa-healthcheck:
       https://www.github.com/freeipa/freeipa-healthcheck/

OTHER RESOURCES
       The  ipa-healthcheck  distribution  includes a documentation file named
       README.md which contains detailed explanations on executed checks.

FreeIPA                           Jan 16 2020               ipa-healthcheck(8)
