Amazon::SQS::Simple(3pm)                                                            User Contributed Perl Documentation                                                            Amazon::SQS::Simple(3pm)

NAME
       Amazon::SQS::Simple - OO API for accessing the Amazon Simple Queue Service

SYNOPSIS
           use Amazon::SQS::Simple;

           my $access_key = 'foo'; # Your AWS Access Key ID
           my $secret_key = 'bar'; # Your AWS Secret Key

           # Create an SQS object
           my $sqs = new Amazon::SQS::Simple(AWSAccessKeyId => $access_key, SecretKey => $secret_key);

           # Create a new queue
           my $q = $sqs->CreateQueue('queue_name');

           # Send a message
           my $response = $q->SendMessage('Hello world!');

               # Send multiple messages
               my @responses = $q->SendMessageBatch(['Hello world', 'Farewell cruel world']);

           # Retrieve a message
           my $msg = $q->ReceiveMessage();
           print $msg->MessageBody() # Hello world!

           # Delete the message
           $q->DeleteMessage($msg->ReceiptHandle());
               # or
               $q->DeleteMessage($msg);

           # Delete the queue
           $q->Delete();

           # Purge the queue
           $q->Purge();

INTRODUCTION
       Amazon::SQS::Simple is an OO API for the Amazon Simple Queue Service.

IMPORTANT
       This version of Amazon::SQS::Simple defaults to work against version 2009-02-01 of the SQS API.

       Earlier API versions may or may not work.

CONSTRUCTOR
       new($access_key, $secret_key, [%opts])
         Constructs a new Amazon::SQS::Simple object

         $access_key is your Amazon Web Services access key. $secret_key is your Amazon Web Services secret key. If you don't have either of these credentials, visit <http://aws.amazon.com/>.

         Options for new:

         Timeout => SECONDS
             Set the HTTP user agent's timeout (default is 180 seconds)

         Version => VERSION_STRING
             Specifies the SQS API version you wish to use. E.g.:

              my $sqs = new Amazon::SQS::Simple($access_key, $secret_key, Version => '2008-01-01');

METHODS
       GetQueue($queue_endpoint)
         Gets the queue with the given endpoint. Returns a "Amazon::SQS::Simple::Queue" object. (See Amazon::SQS::Simple::Queue for details.)

       CreateQueue($queue_name, [%opts])
         Creates a new queue with the given name. Returns a "Amazon::SQS::Simple::Queue" object. (See Amazon::SQS::Simple::Queue for details.)

         Options for CreateQueue:

         DefaultVisibilityTimeout => SECONDS
             Set the default visibility timeout for this queue

       ListQueues([%opts])
         Gets a list of all your current queues. Returns an array of "Amazon::SQS::Simple::Queue" objects. (See Amazon::SQS::Simple::Queue for details.)

         Options for ListQueues:

         QueueNamePrefix => STRING
             Only those queues whose name begins with the specified string are returned.

FUNCTIONS
       No functions are exported by default; if you want to use them, export them in your use line:

           use Amazon::SQS::Simple qw( timestamp );

       timestamp($seconds)
         Takes a time in seconds since the epoch and returns a formatted timestamp suitable for using in a Timestamp or Expires optional method parameter.

STANDARD OPTIONS
       The following options can be supplied with any of the listed methods.

       AWSAccessKeyId => STRING
         The AWS Access Key Id to use with the method call. If not provided, Amazon::SQS::Simple uses the value passed to the constructor.

       SecretKey => STRING
         The Secret Key to use with the method call. If not provided, Amazon::SQS::Simple uses the value passed to the constructor.

       Timestamp => TIMESTAMP
         All  methods are automatically given a timestamp of the time at which they are called, but you can override this value if you need to. The value for this key should be a timestamp as returned by
         the Amazon::SQS::Simple::timestamp() function.

         You generally do not need to supply this option.

       Expires => TIMESTAMP
         All methods are automatically given a timestamp of the time at which they are called.  You can alternatively set an expiry time by providing an Expires option. The value for this key should be a
         timestamp as returned by the "Amazon::SQS::Simple::timestamp()" function.

         You generally do not need to supply this option.

ACKNOWLEDGEMENTS
       Bill Alford wrote the code to support basic functionality of older API versions in release 0.9.  James Neal provided the proxy support code in release 2.0 Roland Walker provided  support  for  the
       newer signature version in release 2.0 Chris Jones provied the batch message code in release 2.0 Rusty Conover provided the V4 signature support in release 2.05

AUTHOR
       Copyright 2007-2008 Simon Whitaker <swhitaker@cpan.org> Copyright 2013-2017 Mike (no relation) Whitaker <penfold@cpan.org>

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.

perl v5.32.0                                                                                     2021-01-09                                                                        Amazon::SQS::Simple(3pm)
