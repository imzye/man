libvshadow(3)                                                                             Library Functions Manual                                                                            libvshadow(3)

NAME
       libvshadow.h â€” Library to access the Windows NT Volume Shadow Snapshot (VSS) format

SYNOPSIS
       #include <libvshadow.h>

       Support functions

       const char *
       libvshadow_get_version(void);

       int
       libvshadow_get_access_flags_read(void);

       int
       libvshadow_get_codepage(int *codepage, libvshadow_error_t **error);

       int
       libvshadow_set_codepage(int codepage, libvshadow_error_t **error);

       int
       libvshadow_check_volume_signature(const char *filename, libvshadow_error_t **error);

       Available when compiled with wide character string support:

       int
       libvshadow_check_volume_signature_wide(const wchar_t *filename, libvshadow_error_t **error);

       Available when compiled with libbfio support:

       int
       libvshadow_check_volume_signature_file_io_handle(libbfio_handle_t *file_io_handle, libvshadow_error_t **error);

       Notify functions

       void
       libvshadow_notify_set_verbose(int verbose);

       int
       libvshadow_notify_set_stream(FILE *stream, libvshadow_error_t **error);

       int
       libvshadow_notify_stream_open(const char *filename, libvshadow_error_t **error);

       int
       libvshadow_notify_stream_close(libvshadow_error_t **error);

       Error functions

       void
       libvshadow_error_free(libvshadow_error_t **error);

       int
       libvshadow_error_fprint(libvshadow_error_t *error, FILE *stream);

       int
       libvshadow_error_sprint(libvshadow_error_t *error, char *string, size_t size);

       int
       libvshadow_error_backtrace_fprint(libvshadow_error_t *error, FILE *stream);

       int
       libvshadow_error_backtrace_sprint(libvshadow_error_t *error, char *string, size_t size);

       Volume functions

       int
       libvshadow_volume_initialize(libvshadow_volume_t **volume, libvshadow_error_t **error);

       int
       libvshadow_volume_free(libvshadow_volume_t **volume, libvshadow_error_t **error);

       int
       libvshadow_volume_signal_abort(libvshadow_volume_t *volume, libvshadow_error_t **error);

       int
       libvshadow_volume_open(libvshadow_volume_t *volume, const char *filename, int access_flags, libvshadow_error_t **error);

       int
       libvshadow_volume_close(libvshadow_volume_t *volume, libvshadow_error_t **error);

       int
       libvshadow_volume_get_size(libvshadow_volume_t *volume, size64_t *size, libvshadow_error_t **error);

       int
       libvshadow_volume_get_number_of_stores(libvshadow_volume_t *volume, int *number_of_stores, libvshadow_error_t **error);

       int
       libvshadow_volume_get_store(libvshadow_volume_t *volume, int store_index, libvshadow_store_t **store, libvshadow_error_t **error);

       int
       libvshadow_volume_get_store_identifier(libvshadow_volume_t *volume, int store_index, uint8_t *guid, size_t size, libvshadow_error_t **error);

       Available when compiled with wide character string support:

       int
       libvshadow_volume_open_wide(libvshadow_volume_t *volume, const wchar_t *filename, int access_flags, libvshadow_error_t **error);

       Available when compiled with libbfio support:

       int
       libvshadow_volume_open_file_io_handle(libvshadow_volume_t *volume, libbfio_handle_t *file_io_handle, int access_flags, libvshadow_error_t **error);

       Store functions

       int
       libvshadow_store_free(libvshadow_store_t **store, libvshadow_error_t **error);

       int
       libvshadow_store_has_in_volume_data(libvshadow_store_t *store, libvshadow_error_t **error);

       ssize_t
       libvshadow_store_read_buffer(libvshadow_store_t *store, void *buffer, size_t buffer_size, libvshadow_error_t **error);

       ssize_t
       libvshadow_store_read_buffer_at_offset(libvshadow_store_t *store, void *buffer, size_t buffer_size, off64_t offset, libvshadow_error_t **error);

       off64_t
       libvshadow_store_seek_offset(libvshadow_store_t *store, off64_t offset, int whence, libvshadow_error_t **error);

       int
       libvshadow_store_get_offset(libvshadow_store_t *store, off64_t *offset, libvshadow_error_t **error);

       int
       libvshadow_store_get_size(libvshadow_store_t *store, size64_t *size, libvshadow_error_t **error);

       int
       libvshadow_store_get_volume_size(libvshadow_store_t *store, size64_t *volume_size, libvshadow_error_t **error);

       int
       libvshadow_store_get_identifier(libvshadow_store_t *store, uint8_t *guid, size_t size, libvshadow_error_t **error);

       int
       libvshadow_store_get_creation_time(libvshadow_store_t *store, uint64_t *filetime, libvshadow_error_t **error);

       int
       libvshadow_store_get_copy_identifier(libvshadow_store_t *store, uint8_t *guid, size_t size, libvshadow_error_t **error);

       int
       libvshadow_store_get_copy_set_identifier(libvshadow_store_t *store, uint8_t *guid, size_t size, libvshadow_error_t **error);

       int
       libvshadow_store_get_attribute_flags(libvshadow_store_t *store, uint32_t *attribute_flags, libvshadow_error_t **error);

       int
       libvshadow_store_get_number_of_blocks(libvshadow_store_t *store, int *number_of_blocks, libvshadow_error_t **error);

       int
       libvshadow_store_get_block_by_index(libvshadow_store_t *store, int block_index, libvshadow_block_t **block, libvshadow_error_t **error);

       Available when compiled with libbfio support:

       ssize_t
       libvshadow_store_read_buffer_from_file_io_handle(libvshadow_store_t *store, libbfio_handle_t *file_io_handle, void *buffer, size_t buffer_size, libvshadow_error_t **error);

       Block functions

       int
       libvshadow_block_free(libvshadow_block_t **block, libvshadow_error_t **error);

       int
       libvshadow_block_get_original_offset(libvshadow_block_t *block, off64_t *original_offset, libvshadow_error_t **error);

       int
       libvshadow_block_get_relative_offset(libvshadow_block_t *block, off64_t *relative_offset, libvshadow_error_t **error);

       int
       libvshadow_block_get_offset(libvshadow_block_t *block, off64_t *offset, libvshadow_error_t **error);

       int
       libvshadow_block_get_values(libvshadow_block_t *block, off64_t *original_offset, off64_t *relative_offset, off64_t *offset, uint32_t *flags, uint32_t *bitmap, libvshadow_error_t **error);

DESCRIPTION
       The libvshadow_get_version() function is used to retrieve the library version.

RETURN VALUES
       Most of the functions return NULL or -1 on error, dependent on the return type.  For the actual return values see "libvshadow.h".

ENVIRONMENT
       None

FILES
       None

NOTES
       libvshadow can be compiled with wide character support (wchar_t).

       To compile libvshadow with wide character support use: ./configure --enable-wide-character-type=yes
        or define: _UNICODE
        or UNICODE
        during compilation.

       LIBVSHADOW_WIDE_CHARACTER_TYPE
        in libvshadow/features.h can be used to determine if libvshadow was compiled with wide character support.

BUGS
       Please report bugs of any kind on the project issue tracker: https://github.com/libyal/libvshadow/issues

AUTHOR
       These man pages are generated from "libvshadow.h".

COPYRIGHT
       Copyright (C) 2011-2024, Joachim Metz <joachim.metz@gmail.com>.

       This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

SEE ALSO
       the libvshadow.h include file

libvshadow                                                                                     March 5, 2019                                                                                  libvshadow(3)
