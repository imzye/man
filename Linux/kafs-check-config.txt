KAFS-CHECK-CONFIG(1)                                                                           AFS Config Checker                                                                          KAFS-CHECK-CONFIG(1)

NAME
       kafs-check-config - AFS configuration check tool

SYNOPSIS
       kafs-check-config [OPTION]... [<cellname>]*

       Where options are:

              [-46PDvv] [-c <conffile>]* [-N <restriction>]

DESCRIPTION
       This program is used to check the configuration for the in-kernel AFS filesystem (kAFS).  This configuration is used when systemd mounts the filesystem to load up the cell database and create cell au‚Äê
       tomounts in the /afs directory.

       The configuration is also used by the kernel name resolver upcall to provide static configuration for some cells and to specify overrides and limits on DNS lookups.

       If a list of <cellname> arguments is given, the listed cells will be dumped, including the sources of the Volume Location records and address records.

       The available options are:

ARGUMENTS
       -4     Only show IPv4 addresses in the dump.

       -6     Only show IPv6 addresses in the dump.

       -P     Dump the parse tree of the configuration file(s).

       -D     Dump the cell database extracted from the configuration.

       -v     Increase the verbosity of the output.  This may be specified multiple times.

       -c <conffile>
              Specify a configuration file to read instead of the system default.  This may be specified multiple times and the configuration files are read and applied in order.

       -N <restriction>
              Apply a restriction to the lookup performed for the listed cells (if any are).  Restrictions include:

              -N vl-srv
                     Don't use SRV records to find Volume Location servers.

              -N vl-afsdb
                     Don't use AFSDB records to find Volume Location servers.

              -N vl-all
                     Don't use SRV or AFSDB records to find Volume Location servers.

              -N vl-host
                     Don't look cell name up as hostname to find a Volume Location server.

              -N vl-dns
                     Don't do any lookups to find Volume Location servers.  Use only the static configuration.

EXIT STATUS
       0      If check okay and any dumping succeeded.

       1      If an error occurs during processing.

       2      If a command line error occurs.

SEE ALSO
       kafs(7), kafs-client.conf(5)

Linux                                                                                             16 Apr 2019                                                                              KAFS-CHECK-CONFIG(1)
