Mixin::ExtraFields::Driver::HashGuts(3pm)                                           User Contributed Perl Documentation                                           Mixin::ExtraFields::Driver::HashGuts(3pm)

NAME
       Mixin::ExtraFields::Driver::HashGuts - store extras in a hashy object's guts

VERSION
       version 0.140003

SYNOPSIS
         package Your::HashBased::Class;

         use Mixin::ExtraFields -fields => { driver => 'HashGuts' };

DESCRIPTION
       This driver class implements an extremely simple storage mechanism: extras are stored on the object on which the mixed-in methods are called.  By default, they are stored under the key returned by
       the "default_has_key" method, but this can be changed by providing a "hash_key" argument to the driver configuration, like so:

         use Mixin::ExtraFields -fields => {
           driver => { class => 'HashGuts', hash_key => "\0Something\0Wicked\0" }
         };

PERL VERSION
       This library should run on perls released even a long time ago.  It should work on any version of perl released in the last five years.

       Although it may work on older versions of perl, no guarantee is made that the minimum required version will not be increased.  The version may be increased for any reason, and there is no promise
       that patches will be accepted to lower the minimum required perl.

METHODS
       In addition to the methods required by Mixin::ExtraFields::Driver, the following methods are provided:

   hash_key
         my $key = $driver->hash_key;

       This method returns the key where the driver will store its extras.

   default_hash_key
       If no "hash_key" argument is given for the driver, this method is called during driver initialization.  It will return a unique string to be used as the hash key.

   storage
       This method returns the hashref of storage used for extras.  Individual objects get weak references to their id within this hashref.

   storage_for
         my $stash = $driver->storage_for($object, $id);

       This method returns the hashref to use to store extras for the given object and id.  This hashref is stored on both the hash-based object (in its "hash_key" entry) and on the driver (in the entry
       for $id in its "storage" hash).

       All objects with the same id should end up with the same hash in their "hash_key" field.  None of these references are weakened, which means two things:  first, even if all objects with a given id
       go out of scope, future objects with that id will retain the original extras; secondly, memory used to store extras is never reclaimed.  If this is a problem, use a more sophisticated driver.

AUTHOR
       Ricardo Signes <cpan@semiotic.systems>

COPYRIGHT AND LICENSE
       This software is copyright (c) 2022 by Ricardo Signes.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.

perl v5.36.0                                                                                     2023-01-07                                                       Mixin::ExtraFields::Driver::HashGuts(3pm)
