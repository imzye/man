autopkgtest-build-lxd(1)                                                                    General Commands Manual                                                                    autopkgtest-build-lxd(1)

NAME
       autopkgtest-build-lxd - Create or update autopkgtest container for autopkgtest-virt-lxd

SYNOPSIS
       autopkgtest-build-lxd image

DESCRIPTION
       autopkgtest-build-lxd creates or updates an LXD image which is optimized for autopkgtest's LXD runner autopkgtest-virt-lxd(1).

       It  builds  a  temporary  container from an existing given image, runs autopkgtest's standard setup-commands/setup-testbed script, and publishes it as a new image with the alias autopkgtest/distro/re‚Äê
       lease/architecture.

ENVIRONMENT
       If the $AUTOPKGTEST_KEEP_APT_SOURCES environment variable is set to a non-empty value, autopkgtest-build-lxd will keep whatever /etc/apt/sources.list was present in the existing image.

       Otherwise, if the $AUTOPKGTEST_APT_SOURCES_FILE environment variable is set to a non-empty value, for example  AUTOPKGTEST_APT_SOURCES_FILE=/home/me/mydistro/sources.list,  then  autopkgtest-build-lxd
       will read that file (on the host system) and use it to populate /etc/apt/sources.list in the container; or if the $AUTOPKGTEST_APT_SOURCES environment variable is set to a non-empty value, for example
       AUTOPKGTEST_APT_SOURCES=$(cat /home/me/mydistro/sources.list), autopkgtest-build-lxd will write it directly into /etc/apt/sources.list in the container.

       You can specify an apt proxy to use in the container in the $AUTOPKGTEST_APT_PROXY environment variable. If you have an apt proxy configured on the host, the container  will  automatically  use  this,
       otherwise there is no default.

       For  dist-upgrading  image to a newer release you can specify the destination release in the $RELEASE environment variable. This is useful when a new distribution series has just been opened and there
       are no standard images for that available yet.

EXAMPLE
       Build a local autopkgtest container image for Debian sid i386, based on the stock Debian image from the public images.linuxcontainers.org remote:

       $ autopkgtest-build-lxd images:debian/sid/i386

SEE ALSO
       autopkgtest-virt-lxd(1), autopkgtest(1), lxc(1), /usr/share/doc/autopkgtest/.

AUTHORS AND COPYRIGHT
       autopkgtest-build-lxd was written by Martin Pitt <martin.pitt@ubuntu.com>

       This manpage is part of autopkgtest, a tool for testing Debian binary packages.  autopkgtest is Copyright (C) 2006-2015 Canonical Ltd and others.

       See /usr/share/doc/autopkgtest/CREDITS for the list of contributors and full copying conditions.

Linux Programmer's Manual                                                                             2015                                                                             autopkgtest-build-lxd(1)
