Log::Dispatch::Email::EmailSend(3)         User Contributed Perl Documentation


NAME
       Log::Dispatch::Email::EmailSend - Subclass of Log::Dispatch::Email that
       uses Email::Send

SYNOPSIS
         use Log::Dispatch::Email::EmailSend;

         my $email =
             Log::Dispatch::Email::EmailSend->new
                 ( name        => 'email',
                   min_level   => 'emerg',
                   to          => [ qw( foo@bar.com bar@baz.org ) ],
                   subject     => 'error',
                   mailer      => 'SMTP',
                   mailer_args => [ 'smtp.example.com' ],
                 );

         $email->log( message => 'Something bad is happening', level => 'emerg' );

DESCRIPTION
       This is a subclass of Log::Dispatch::Email that implements the
       send_email method using the Email::Send module.

METHODS
       •   new

           This method takes a hash of parameters.  The following options are
           valid:

           •       name ($)

                   The name of the object (not the filename!).  Required.

           •       min_level ($)

                   The minimum logging level this object will accept.  See the
                   Log::Dispatch documentation for more information.
                   Required.

           •       max_level ($)

                   The maximum logging level this obejct will accept.  See the
                   Log::Dispatch documentation for more information.  This is
                   not required.  By default the maximum is the highest
                   possible level (which means functionally that the object
                   has no maximum).

           •       subject ($)

                   The subject of the email messages which are sent.  Defaults
                   to "$0: log email"

           •       to ($ or \@)

                   Either a string or a list reference of strings containing
                   email addresses.  Required.

           •       from ($)

                   A string containing an email address.  This is optional and
                   may not work with all mail sending methods.

           •       mailer ($)

                   The name of the "Email::Send" mailer to use when sending
                   mail.  Defaults to 'Sendmail.'

           •       mailer_args (\@)

                   An array reference containing additional arguments to be
                   passed to the mailer.  By default, this is empty.

           •       buffered (0 or 1)

                   This determines whether the object sends one email per
                   message it is given or whether it stores them up and sends
                   them all at once.  The default is to buffer messages.

           •       callbacks( \& or [ \&, \&, ... ] )

                   This parameter may be a single subroutine reference or an
                   array reference of subroutine references.  These callbacks
                   will be called in the order they are given and passed a
                   hash containing the following keys:

                    ( message => $log_message, level => $log_level )

                   The callbacks are expected to modify the message and then
                   return a single scalar containing that modified message.
                   These callbacks will be called when either the "log" or
                   "log_to" methods are called and will only be applied to a
                   given message once.

       •   log_message( level => $, message => $ )

           Sends a message if the level is greater than or equal to the
           object's minimum level.

AUTHOR
       Dave Rolsky, <autarch@urth.org>

SEE ALSO
       Log::Dispatch

perl v5.40.2                      2025-08-10
                                            Log::Dispatch::Email::EmailSend(3)
