SNAP(8)                 FreeBSD System Manager's Manual                SNAP(8)

NAME
     snap – FreeBSD UFS2 Snapshot Management Tool

SYNOPSIS
     snap [-p] [-m] [-h] [-c config_file] [filesystem ...]

DESCRIPTION
     You can use the snap utility to periodically create new snapshots while
     rotating the olds.  It can also be used to manually create snapshots.

     The options are as follows:

     -p      Perform periodic task. It can only be used on the hour, otherwise
             nothing will happen.  If “atHour” is given in the configuration
             file, then snap will only run on the specified hour.  When this
             flag is not given, it is considered as a manual snapshot
             creation.

     -m      List manually created snapshots and then exit.

     -h      Show the help message.

     -c config_file
             Specify the pathname of an alternative configuration file; The
             default is /usr/local/etc/snap.conf.

     The snap utility reads its configuration file when it starts up.  If
     filesystems are given and corresponding entries in the configuration file
     can be found, snap will only handle these filesystems and ignore their
     “enable” flag in the configuration file.

     All snapshot files are created with the local creation time as their
     filename.  In periodic maintaining task, three types of periodic
     snapshots, namely, hourly, daily, and weekly, are created and rotated
     according to the settings in the configuration file.  They are also hard-
     linked to “nicknames”, for example, the last hourly snapshot is hard-
     linked to hour.0.

EXAMPLES
     The following command creates snapshots manually according to the
     configuration file.

           snap

     To perform periodic maintaining, invoke snap in /etc/crontab as

           0 * * * * root /path/to/snap -p

     since periodic maintaining requires to be performed on the hour.

     To manually create snapshots on filesystem / and /home and /var only:

           snap / /home /var

     This command will ignore the “enable” flag in the configuration file.
     If, say, /var is not found in the configuration file, nothing would
     happen.

     We can list manual created snapshots on filesystems / and /home:

           snap -m / /home

     or also specify an alternative path for the configuration file:

           snap -m -c /tmp/gg/snap.conf / /home

FILES
     /usr/local/etc/snap.conf  configuration file
     hour.0                    last hourly snapshot
     daily.0                   last daily snapshot
     week.0                    last weekly snapshot

SEE ALSO
     mount(8), crontab(5), mdconfig(8), snapshot(8)

AUTHORS
     This manual page was written by Wu Chin-Hao wchunhao@cs.nctu.edu.tw.

FreeBSD 14.1-RELEASE              May 6, 2007             FreeBSD 14.1-RELEASE
