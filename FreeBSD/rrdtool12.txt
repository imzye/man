RRDp(3)               User Contributed Perl Documentation              RRDp(3)



NAME
       RRDp - Attach RRDtool from within a perl script via a set of pipes;

SYNOPSIS
       use RRDp

       RRDp::start path to RRDtool executable

       RRDp::cmd  rrdtool commandline

       $answer = RRD::read

       $status = RRD::end

       $RRDp::user,  $RRDp::sys, $RRDp::real, $RRDp::error_mode, $RRDp::error

DESCRIPTION
       With this module you can safely communicate with the RRDtool.

       After every RRDp::cmd you have to issue an RRDp::read command to get
       RRDtools answer to your command. The answer is returned as a pointer,
       in order to speed things up. If the last command did not return any
       data, RRDp::read will return an undefined variable.

       If you import the PERFORMANCE variables into your namespace, you can
       access RRDtool's internal performance measurements.

       use RRDp
               Load the RRDp::pipe module.

       RRDp::start path to RRDtool executable
               start RRDtool. The argument must be the path to the RRDtool
               executable

       RRDp::cmd rrdtool commandline
               pass commands on to RRDtool. check the RRDtool documentation
               for more info on the RRDtool commands.

       $answer = RRDp::read
               read RRDtool's response to your command. Note that the $answer
               variable will only contain a pointer to the returned data. The
               reason for this is, that RRDtool can potentially return quite
               excessive amounts of data and we don't want to copy this around
               in memory. So when you want to access the contents of $answer
               you have to use $$answer which dereferences the variable.

       $status = RRDp::end
               terminates RRDtool and returns RRDtool's status ...

       $RRDp::user,  $RRDp::sys, $RRDp::real
               these variables will contain totals of the user time, system
               time and real time as seen by RRDtool.  User time is the time
               RRDtool is running, System time is the time spend in system
               calls and real time is the total time RRDtool has been running.

               The difference between user + system and real is the time spent
               waiting for things like the hard disk and new input from the
               perl script.

       $RRDp::error_mode and $RRDp::error
               If you set the variable $RRDp::error_mode to the value 'catch'
               before you run RRDp::read a potential ERROR message will not
               cause the program to abort but will be returned in this
               variable. If no error occurs the variable will be empty.

                $RRDp::error_mode = 'catch';
                RRDp::cmd qw(info file.rrd);
                print $RRDp::error if $RRDp::error;

EXAMPLE
        use RRDp;
        RRDp::start "/usr/local/bin/rrdtool";
        RRDp::cmd   qw(create demo.rrd --step 100
                      DS:in:GAUGE:100:U:U
                      RRA:AVERAGE:0.5:1:10);
        $answer = RRDp::read;
        print $$answer;
        ($usertime,$systemtime,$realtime) =  ($RRDp::user,$RRDp::sys,$RRDp::real);

SEE ALSO
       For more information on how to use RRDtool, check the manpages.

AUTHOR
       Tobias Oetiker <tobi@oetiker.ch>



perl v5.32.1                      2009-01-19                           RRDp(3)
