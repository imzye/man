SYSLOG.CONF(5)            FreeBSD File Formats Manual           SYSLOG.CONF(5)

NAME
     syslog.conf – syslogd(8) configuration file

DESCRIPTION
     The syslog.conf file is the configuration file for the syslogd(8)
     program.  It consists of blocks of lines separated by program
     specifications, with each line containing two fields: the selector field
     which specifies the types of messages and priorities to which the line
     applies, and an action field which specifies the action to be taken if a
     message syslogd receives matches the selection criteria.  The selector
     field is separated from the action field by one or more tab characters.

     The Selectors function are encoded as a facility, a period (``.''), and a
     level, with no intervening white-space.  Both the facility and the level
     are case insensitive.

     The facility describes the part of the system generating the message, and
     is one of the following keywords: auth, authpriv, cron, daemon, kern,
     lpr, mail, mark, news, syslog, user, uucp and local0 through local7.
     These keywords (with the exception of mark) correspond to the similar
     “LOG_” values specified to the openlog(3) and syslog(3) library routines.

     The level describes the severity of the message, and is a keyword from
     the following ordered list (higher to lower): emerg, alert, crit, err,
     warning, notice, info and debug.  These keywords correspond to the
     similar (LOG_) values specified to the syslog library routine.

     Each block of lines is separated from the previous block by a tag. The
     tag is a line beginning with #!prog or !prog (the former is for
     compatibility with the previous syslogd, if one is sharing syslog.conf
     files, for example) and each block will be associated with calls to
     syslog from that specific program.

     See syslog(3) for a further descriptions of both the facility and level
     keywords and their significance. It's preferred that selections be made
     on facility rather than program, since the latter can easily vary in a
     networked environment. In some cases, though, an appropriate facility
     simply doesn't exist.

     If a received message matches the specified facility and is of the
     specified level (or a higher level), and the first word in the message
     after the date matches the program, the action specified in the action
     field will be taken. Beware, all rules after it are assigned this program
     name, to disable you may add a line with just #! or !  to make it handle
     all programs.

     Multiple selectors may be specified for a single action by separating
     them with semicolon (``;'') characters.  It is important to note,
     however, that each selector can modify the ones preceding it.

     Multiple facilities may be specified for a single level by separating
     them with comma (``,'') characters.

     An asterisk (``*'') can be used to specify all facilities, all levels or
     all programs.

     The special facility ``mark'' receives a message at priority ``info''
     every 20 minutes (see syslogd(8)).  This is not enabled by a facility
     field containing an asterisk.

     The special level ``none'' disables a particular facility.

     The action field of each line specifies the action to be taken when the
     selector field selects a message.  There are four old forms:

     •   A pathname (beginning with a leading slash).  Selected messages are
         appended to the file.

     •   A hostname (preceded by an at (``@'') sign).  Selected messages are
         forwarded to the syslogd program on the named host.

     •   A comma separated list of users.  Selected messages are written to
         those users if they are logged in.

     •   An asterisk.  Selected messages are written to all logged-in users.

     Because the new syslogd(8) daemon is now modularized, the last four forms
     are included into a ``classic'' module. The new modular form is as
     follows:

     •   %classic xxx, where xxx is one of the last four.

     Blank lines and lines whose first non-blank character is a hash (``#'')
     character are ignored with the exception of lines beginning with
     (``#!'').  These lines are treated as section headers in the same way as
     lines beginning with (``!'').  This allows syslog.conf files to be shared
     with systems that don't recognise the (``!'') syntax.

EXAMPLES
     •   A configuration file that doesn't include modules might appear as
         follows:

               # Log all kernel messages, authentication messages of
               # level notice or higher and anything of level err or
               # higher to the console.
               # Don't log private authentication messages!

               *.err;kern.*;auth.notice;authpriv.none  /dev/console

               # Log anything (except mail) of level info or higher.
               # Don't log private authentication messages!

               *.info;mail.none;authpriv.none          /var/log/messages

               # The authpriv file has restricted access.

               authpriv.*                              /var/log/secure

               # Log all the mail messages in one place.

               mail.*                                  /var/log/maillog

               # Everybody gets emergency messages, plus log them on another
               # machine.

               *.emerg                                 *
               *.emerg                                 @arpa.berkeley.edu

               # Root and Eric get alert and higher messages.

               *.alert                                 root,eric

               # Save mail and news errors of level err and higher in a
               # special file.

               uucp,news.crit                          /var/log/spoolerr

               # Save ftpd transactions along with mail and news

               !ftpd
               *.*                                     /var/log/spoolerr

     •   A configuration file using modules might appear as follows:

               # Log all kernel messages, authentication messages of
               # level notice or higher and anything of level err or
               # higher to the console.
               # Don't log private authentication messages!

               *.err;kern.*;auth.notice;authpriv.none  %classic /dev/console

               # Log anything (except mail) of level info or higher.
               # Don't log private authentication messages!

               *.info;mail.none;authpriv.none  %classic /var/log/messages

               # The authpriv file has restricted access.

               authpriv.*                      %classic /var/log/secure

               # Log all the mail messages in one place.

               mail.*                          %classic /var/log/maillog

               # Everybody gets emergency messages, plus log them on another
               # machine.

               *.emerg                         %classic *
               *.emerg                         %classic @arpa.berkeley.edu

               # Root and Eric get alert and higher messages.

               *.alert                         %classic root,eric

               # Save mail and news errors of level err and higher in a
               # special file.

               uucp,news.crit                  %classic /var/log/spoolerr

               # Save ftpd transactions along with mail and news

               !ftpd
               *.*                             %classic /var/log/spoolerr

FILES
     /usr/local/etc/syslog.conf  The syslogd(8) configuration file.

SEE ALSO
     syslog(3), om_classic(8), om_mysql(8), om_peo(8), om_pgsql(8),
     om_regex(8), om_tcp(8), om_udp(8), peochk(8), syslogd(8)

HISTORY
     The syslog.conf file appeared in 4.3BSD, along with syslogd(8).

BUGS
     •   The effects of multiple selectors are sometimes not intuitive.  For
         example ``mail.crit,*.err'' will select ``mail'' facility messages at
         the level of ``err'' or higher, not at the level of ``crit'' or
         higher.

     •   Even it works to mix configuration lines that uses the old and the
         new modular method, avoid this. Future releases may not support
         mixing old and new styles.

     •   On each line there should be only one classic module so, the
         following is wrong:

               *.*  %classic /dev/console %classic /var/log/messages

         the correct lines are:

               *.*  %classic /dev/console
               *.*  %classic /var/log/messages

     •   Submit bugs at this project's Sourceforge Bug reporting system at:
         http://sourceforge.net/tracker/?func=add&group_id=25741&atid=385117
         You may also report them directly to the authors; send an email to
         core.devel.alat@corest.com, describing the problem the most you can,
         containing also machine description, hardware description, the
         configuration file (/usr/local/etc/syslog.conf), the OS description,
         and the invoking command line.  The more you describe the bug, the
         faster we can fix it.

Core-SDI                         June 9, 1993                         Core-SDI
