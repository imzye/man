mysqldump-secure(1)     FreeBSD General Commands Manual    mysqldump-secure(1)

NAME
       mysqldump-secure - secure mysqldump wrapper with encryption

SYNOPSIS
        mysqldump-secure
        mysqldump-secure [--conf] [--cron] [--test] [-v[-v]] [--help]
       [--version]

DESCRIPTION
       Mysqldump-secure is a POSIX compliant shell wrapper for mysqldump(1)
       with strong security in mind. It will backup every available database
       (which is readable by the specified user) as a separate file with the
       possibility to opt out via blacklisting. Dumped databases can
       optionally be piped directly to gzip or openssl in order to compress
       and/or encrypt the backup. Encryption is done before the file is
       written to disk to avoid possible race conditions.

OPTIONS
       Usage: mysqldump-secure [--conf] [--cron] [--test] [-v[v]]
              mysqldump-secure --help
              mysqldump-secure --version

       When invoked without any arguments, it will start dumping databases as
       defined in mysqldump-secure.conf.

       --conf      Pass different configuration file than the default one.
       E.g.: --conf=/etc/mysqldump-secure-alt.conf

       --cron      Use for cron run. It will only output errors and warnings
       and will silence all info, debug and trace output.

       --test      Test requirements and exit. Combine with -v or -vv for more
       verbose output.

       -v          Show debug output. Can be combined with --conf  and --test

       -vv         Show debug and trace output. Can be combined with --conf
       and --test

       --help      Show help screen.

       --version   Show version information.

FILES
        /etc/mysqldump-secure.cnf
           This file stores mysql credentials.

        /etc/mysqldump-secure.conf
           Main configuration file.

EXAMPLE
       Prior using mysqldump-secure to backup databases, you should run the
       test mode in order to make sure everything is setup correctly. Running
       the test mode directly after installation should give you an error
       about the MySQL connection.

           > mysqldump-secure --test

           [INFO]  (OPT): Logging enabled
           [INFO]  (OPT): MySQL SSL connection disabled
           [INFO]  (OPT): Compression enabled
           [INFO]  (OPT): Encryption disabled
           [INFO]  (OPT): Deletion disabled
           [INFO]  (OPT): Nagios log enabled
           [INFO]  (OPT): Info files enabled
           [FATAL] (RUN): Cannot connect to mysql database.
           [FATAL] (RUN): Via: /usr/bin/mysql --defaults-file=/etc/mysqldump-
       secure.cnf
           [FATAL] (RUN): SQL: ERROR 1045 (28000): Access denied for user
       'readonlyuser'@'localhost' (using password: YES)
           [FATAL] (HLP): Fix credentials in: /etc/mysqldump-secure.cnf
           [FATAL] Aborting

       So in order to fix that, you should change credentials in
       /etc/mysqldump-secure.cnf. Once done, the output should look like this:

           > mysqldump-secure --test

           [INFO]  (OPT): Logging enabled
           [INFO]  (OPT): MySQL SSL connection disabled
           [INFO]  (OPT): Compression enabled
           [INFO]  (OPT): Encryption disabled
           [INFO]  (OPT): Deletion disabled
           [INFO]  (OPT): Nagios log enabled
           [INFO]  (OPT): Info files enabled

       If no errors or warnigs are shown and the program exits with 0, you are
       ready to go.

       Add the verbose flag to get more information. Either use -v for debug
       or -vv for debug and trace output.


EXIT STATUS
        0          All fine, no fatals, no errors and no warnings occured.
        1          Warnings occured, but all dumps were successfull.
        2          Errors occured, but all dumps were successfull.
        3          Failed. Mysqldump encountered errors.
        4          Abort. The program aborted, due to missing requirements,
       wrong arguments or a misconfiguration.

BUGS
       Please report all bugs to https://github.com/cytopia/mysqldump-
       secure/issues

SEE ALSO
       mysqldump(1), mysql(1)

AUTHOR
       Patrick Plocke (patrick@plocke.de)

       http://mysqldump-secure.org


version 0.16.5                   23 March 2022             mysqldump-secure(1)
