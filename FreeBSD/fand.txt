FAND(8)                 FreeBSD System Manager's Manual                FAND(8)

NAME
     fand – daemon to control PWM (Pulse Width Modulation) cooling fans

SYNOPSIS
     fand [options...] temperature_sensor pwm_device
     fand [-s] [options...] temperature_sensor pwm_device

DESCRIPTION
     The fand daemon can be used to control a cooling fan connected to a
     pwmc(4) pwm_device based on the system temperature retrived from a
     sysctl(3) temperature_sensor PWM parameters.

     temperature_sensor should be the name of the sysctl variable used to read
     the system temperature.  pwm_device should be the name of the PWM device
     that controls the system fan. If an unqualified name is provided,
     /dev/pwm is automatically prepended.

     When called with the -s option, fand will print the current status of the
     temperature sensor and the PWM state and exit. This can be useful when
     determining the required temperature multiplier and other options.

     The options are as follows:

     -d duty         The duty cycle (in nanoseconds or percentage) of the PWM
                     channel for the default (low) temperature threshold. Duty
                     is the portion of the period during which the signal is
                     asserted.

     -D duty         The duty cycle (in nanoseconds or percentage) of the PWM
                     channel for the high temperature threshold. Duty is the
                     portion of the period during which the signal is
                     asserted.

     -f              Run fand in the foreground. Also enables more verbose
                     output.

     -i seconds      The temperature polling interval, in seconds (Default:
                     60)

     -I              Invert PWM signal polarity

     -K              Converts the temperature sensor reading from degrees
                     Kelvin

     -m multiplier   Multiplier applied to reading from temperature sensor
                     (Default: 1.0)

     -o temperature  Temperature to deactivate fan, in °C (Default: 50)

     -p period       The period in nanoseconds of the PWM channel for the
                     default (low) temperature threshold (Default: 0)

     -P period       The period in nanoseconds of the PWM channel for the high
                     temperature threshold (Default: 0)

     -r path         The PID file path (Default: /var/run/fand.pid)

     -s              Show current temperature and PWM status, then exit.

     -t temperature  Default (low) temperature to enable the fan, in °C
                     (Default: 50)

     -T temperature  High temperature threshold, in °C (Default: not set)

     -v              Print program version and exit

EXAMPLES
     •   Using the "hw.temp.CPU" sensor and the pwmc1.0 controller, run the
         fan at half duty cycle when the temperature reaches 45C and run at
         full when the temperature rises above 60C. Disable the fan if the
         temperature falls below 35C. When reading from the sensor, assume
         value is in tenth degrees Kelvin.

         fand -t 45 -p 50000 -d "50%" -T 60 -o 35 -K -m 0.1 hw.temp.CPU pwmc1.0

SEE ALSO
     sysctl(8), pwm(8)

AUTHORS
     The fand utility and this manual page were written by Corey Hinshaw
     <corey@electrickite.org>.

fand 0.2.3                     February 10, 2022                    fand 0.2.3
