LOCKSPOOL(1)            FreeBSD General Commands Manual           LOCKSPOOL(1)

NAME
     lockspool – lock user's system mailbox

SYNOPSIS
     lockspool [username]

DESCRIPTION
     lockspool is useful for a client mail program to attain proper locking.
     lockspool obtains a username.lock for the calling user and retains it
     until stdin is closed or a signal like SIGINT, SIGTERM, or SIGHUP is
     received.  Additionally, the superuser may specify the name of a user in
     order to lock a different mailbox.

     If lockspool is able to create the lock file, “1” is written to stdout,
     otherwise “0” is written and an error message is written to stderr.
     lockspool will try up to 10 times to get the lock (sleeping for a short
     period in between tries).

     Typical usage is for a user mail agent (such as mail(1)) to open a pipe
     to lockspool when it needs to lock the user's mail spool.  Closing the
     pipe will cause lockspool to release the lock.

FILES
     /var/mail/username.lock  user's mail lock file

EXIT STATUS
     The lockspool utility exits 0 on success, and 1 if an error occurs.

SEE ALSO
     mail(1), mail.local(8), smtpd(8)

HISTORY
     The lockspool program appeared in OpenBSD 2.4.

FreeBSD 14.1-RELEASE           January 25, 2019           FreeBSD 14.1-RELEASE
