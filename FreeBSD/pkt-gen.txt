NMREPLAY(8)             FreeBSD System Manager's Manual            NMREPLAY(8)

NAME
     nmreplay â€“ playback a pcap file through a netmap interface

SYNOPSIS
     nmreplay  [-f pcap-file] [-i netmap-interface] [-B bandwidth] [-D delay]
               [-L loss] [-b batch size] [-w wait-link] [-v]
               [-C cpu-placement]

DESCRIPTION
     nmreplay works like tcpreplay to replay a pcap file through a netmap
     interface, with programmable rates and possibly delays, losses and packet
     alterations.  nmreplay is designed to run at high speed, so the transmit
     schedule is computed ahead of time, and the thread in charge of
     transmission only has to pump data through the interface.  nmreplay can
     connect to any type of netmap port.

     Command line options are as follows

     -f pcap-file
             Name of the pcap file to replay.

     -i interface
             Name of the netmap interface to use as output.  See netmap(4) for
             interface name format.

     -v      Enable verbose mode

     -b batch-size
             Maximum batch size to use during transmissions.  nmreplay
             normally transmits packets one at a time, but it may use larger
             batches, up to the value specified with this option, when running
             at high rates.

     -B bps | constant,bps | ether,bps | real[,speedup]
             Bandwidth to be used for transmission.  bps is a floating point
             number optionally follow by a character (k, K, m, M, g, G) that
             multiplies the value by 10^3, 10^6 and 10^9 respectively.
             constant (can be omitted) means that the bandwidth will be
             computed with reference to the actual packet size (excluding CRC
             and framing).  ether indicates that the ethernet framing (160
             bits) and CRC (32 bits) will be included in the computation of
             the packet size.  real means transmission will occur according to
             the timestamps recorded in the trace.  The optional speedup
             multiplier (defaults to 1) indicates how much faster or slower
             than real time the trace should be replayed.

     -D dt | constant,dt | uniform,dmin,dmax | exp, dmin,davg
             Adds additional delay to the packet transmission, whose
             distribution can be constant, uniform or exponential.  dt, dmin,
             dmax, avt are times expressed as floating point numbers
             optionally followed by a character (s, m, u, n) to indicate
             seconds, milliseconds, microseconds, nanoseconds.  The delay is
             added to the transmit time and adjusted so that there is never
             packet reordering.

     -L x | plr,x | ber,x
             Simulates packet or bit errors, causing offending packets to be
             dropped.  x is a floating point number indicating the packet or
             bit error rate.

     -w wait-link
             indicates the number of seconds to wait before transmitting.  It
             defaults to 2, and may be useful when talking to physical ports
             to let link negotiation complete before starting transmission.

OPERATION
     nmreplay creates an in-memory schedule with all packets to be
     transmitted, and then launches a separate thread to take care of
     transmissions while the main thread reports statistics every second.

SEE ALSO
     netmap(4)

AUTHORS
     nmreplay has been written by Luigi Rizzo, Andrea Beconcini, Francesco
     Mola and Lorenzo Biagini at the Universita` di Pisa, Italy.

FreeBSD 14.1-RELEASE           December 21, 2018          FreeBSD 14.1-RELEASE
