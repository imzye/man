Test::TinyMocker(3)   User Contributed Perl Documentation  Test::TinyMocker(3)


NAME
       Test::TinyMocker

VERSION
       version 0.05

SYNOPSIS
           use Test::More;
           use Test::TinyMocker;

           mock 'Some::Module'
               => method 'some_method'
               => should {
                   return $mocked_value;
               };

           # or

           mock 'Some::Module'
               => methods [ 'this_method', 'that_method' ]
               => should {
                   return $mocked_value;
               };

           # or

           mock 'Some::Module::some_method'
               => should {
                   return $mocked_value;
               };

           # Some::Module::some_method() will now always return $mocked_value;

               # To restore the original method

               unmock 'Some::Module::some_method';

           # or

               unmock 'Some::Module' => method 'some_method';

           # or

           unmock 'Some::Module' => methods [ 'this_method', 'that_method' ];

NAME
       Test::TinyMocker - a very simple tool to mock external modules

EXPORT
   mock($module, $method_or_methods, $sub, $options)
       This function allows you to overwrite the given method with an
       arbitrary code block. This lets you simulate soem kind of behaviour for
       your tests.

       Alternatively, this method can be passed only two arguments, the first
       one will be the full path of the method (pcakge name + method name) and
       the second one the coderef.

       An options HashRef can be passed as the last argument. Currently one
       option is supported: "ignore_unknown" (default false) which when sets
       to true allows to mock an unknown symbol.

       Syntactic sugar is provided ("method", "methods" and "should") in order
       to let you write sweet mock statements:

           # This:
           mock('Foo::Bar', 'a_method', sub { return 42;});

           # is the same as:
           mock 'Foo::Bar' => method 'a_method' => should { return 42 };

           # or:
           mock 'Foo::Bar::a_method' => should { return 42 };

           # or also:
           mock('Foo::Bar::a_method', sub { return 42;});

       Using multiple methods at the same time can be done with arrayrefs:

           # This:
           mock('Foo::Bar', ['a_method', 'b_method'], sub { 42 } );

           # is the same as:
           mock 'Foo::Bar' => methods ['a_method', 'b_method'] => should { 42 };

   unmock($module, $method_or_methods)
       Syntactic sugar is provided ("method" and "methods") in order to let
       you write sweet unmock statements:

           # This:
           unmock('Foo::Bar', 'a_method');

           # is the same as:
           unmock 'Foo::Bar' => method 'a_method';

       And using multiple methods at the same time:

           unmock 'Foo::Bar' => methods ['a_method', 'b_method'];

   method
       Syntactic sugar for mock()

   methods
       Syntactic sugar for mock()

   should
       Syntactic sugar for mock()

AUTHOR
       Alexis Sukrieh, "<sukria at sukria.net>"

BUGS
       Please report any bugs or feature requests to "bug-test-tinymocker at
       rt.cpan.org", or through the web interface at
       <http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-TinyMocker>.  I
       will be notified, and then you'll automatically be notified of progress
       on your bug as I make changes.

SUPPORT
       You can find documentation for this module with the perldoc command.

           perldoc Test::TinyMocker

       You can also look for information at:

       •   RT: CPAN's request tracker

           <http://rt.cpan.org/NoAuth/Bugs.html?Dist=Test-TinyMocker>

       •   AnnoCPAN: Annotated CPAN documentation

           <http://annocpan.org/dist/Test-TinyMocker>

       •   CPAN Ratings

           <http://cpanratings.perl.org/d/Test-TinyMocker>

       •   Search CPAN

           <http://search.cpan.org/dist/Test-TinyMocker/>

ACKNOWLEDGEMENTS
       This module was inspired by Gugod's blog, after the article published
       about mocking in Ruby and Perl: <http://gugod.org/2009/05/mocking.html>

       This module was first part of the test tools provided by Dancer in its
       own t directory (previously named "t::lib::EasyMocker"). A couple of
       developers asked me if I could released this module as a real Test::
       distribution on CPAN, so here it is.

LICENSE AND COPYRIGHT
       Copyright 2010 Alexis Sukrieh.

       This program is free software; you can redistribute it and/or modify it
       under the terms of either: the GNU General Public License as published
       by the Free Software Foundation; or the Artistic License.

       See http://dev.perl.org/licenses/ for more information.

AUTHOR
       Alexis Sukrieh <sukria@sukria.net>

COPYRIGHT AND LICENSE
       This software is copyright (c) 2013 by Alexis Sukrieh.

       This is free software; you can redistribute it and/or modify it under
       the same terms as the Perl 5 programming language system itself.

perl v5.40.2                      2013-11-27               Test::TinyMocker(3)
