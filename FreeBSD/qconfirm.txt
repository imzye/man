qconfirm(1)             FreeBSD General Commands Manual            qconfirm(1)

NAME
       qconfirm - manage addresses/ids in a qconfirm directory

SYNOPSIS
       qconfirm [-iC] [-d dir] [-c cdb] list [pending|ok|return|bad]

       qconfirm [-iCD] [-d dir] [-c cdb] arg addresses

DESCRIPTION
       qconfirm either lists pending, known, bouncing, or bad addresses in a
       qconfirm directory, or alters their states to tell qconfirm-check(1)
       what to do with mails from these addresses.

       arg is either check, accept, drop, bounce, sneak, pending, remove, or
       bad.  addresses consists of one or more mail addresses or qconfirm ids.

ARGS
       list   lists all ids in the pending/, ok/, return/, or bad/ directory
              as mail addresses, one per line. Each address is preceded with a
              time-stamp indicating when the last confirmation request was
              sent (pending/), when the last message from this address was
              accepted (ok/), when the most recent bounce was received
              (return/), or when the id was created (bad/).  If neither the
              pending, ok, return, or bad option is given, qconfirm lists the
              pending directory and appends to each address its current state.

       check  check for each mail address in addresses its state in the
              qconfirm directory.  The state can be either known, unknown,
              pending, or bad.

       accept alter the state for each mail address in addresses to known. If
              the state of the mail address is pending, this address is
              confirmed manually. The next time qmail tries to deliver a
              message from this address, the message is accepted and the state
              is changed to known.

       drop   check for each mail address in addresses if the address
              currently is pending.  If yes, tell qconfirm-check(1) to
              silently drop the message the next time qmail tries to deliver a
              message from this address.

       bounce check for each mail address in addresses if the address
              currently is pending.  If yes, tell qconfirm-check(1) to bounce
              the message the next time qmail tries to deliver a message from
              this address.

       sneak  check for each mail address in addresses if the address
              currently is pending.  If yes, tell qconfirm-check(1) to forward
              a preview of a message from this address to $QCONTROL_OWNER.
              After the preview is sent, qconfirm-check(1) switches the state
              back to pending.

       pending
              switch the state of each mail address back to pending.

       remove check for each mail address in addresses if the address is
              known.  If yes, change its state to unknown.  Note: If qconfirm
              updates the constant database cdb, it creates cdb.tmp as
              temporary file.  If cdb.tmp exists, it will be destroyed.

       bad    check for each mail address in addresses if the address is
              unknown or pending.  If yes, tell qconfirm-check(1) to
              permanently bounce messages from this address.

OPTIONS
       -i     id.  Force all addresses to be interpreted as qconfirm ids, not
              mail addresses, and output qconfirm ids instead of mail
              addresses.

       -C     cdb.  Additionally to the qconfirm directory, check the default
              constant database for known ids (``~/.qconfirm/ok.cdb'').

       -d dir Override the default qconfirm directory (``~/.qconfirm'') and
              the environment variable QCONFIRM_DIR with dir.

       -c cdb Set the filename of the constant database to be checked to cdb.
              Default is ``ok.cdb'' (in the qconfirm directory).  This option
              also overrides the environment variable QCONFIRM_OKCDB, and the
              configuration file QCONFIRM_OKCDB.  If cdb doesn't start with a
              slash, it is searched in the user's qconfirm directory.  This
              option implies the -C option.

       -D     Don't use extended envelope sender domain matching when checking
              ids.

CONFIGURATION
       qconfirm reads its configuration from files in the subdirectory conf/
       of the qconfirm directory (normally ``~/.qconfirm/conf/'').  Only the
       first line of a configuration file is considered.

       QCONFIRM_OKCDB
              The configuration file QCONFIRM_OKCDB overrides the default name
              of the user's constant database for known ids (``ok.cdb'').

ENVIRONMENT
       QCONFIRM_DIR
              The environment variable QCONFIRM_DIR overrides the default
              location of the user's qconfirm directory (``~/.qconfirm'').

       QCONFIRM_OKCDB
              The environment variable QCONFIRM_OKCDB overrides the default
              name of the user's constant database for known ids (``ok.cdb''),
              and the configuration file QCONFIRM_OKCDB.  If QCONFIRM_OKCDB
              doesn't start with a slash, it is searched in the user's
              qconfirm directory.

SEE ALSO
       qconfirm-check(1), qconfirm-conf(1), qconfirm-inject(1), qconfirm-
       notice(1), qconfirm-accept(1), qconfirm-return(1), qconfirm-control(1),
       qconfirm-cdb-check(1), qconfirm-cdb-update(1)

       http://smarden.org/qconfirm/

AUTHOR
       Gerrit Pape <pape@smarden.org>

                                                                   qconfirm(1)
