Class::Mix(3)         User Contributed Perl Documentation        Class::Mix(3)


NAME
       Class::Mix - dynamic class mixing

SYNOPSIS
           use Class::Mix qw(mix_class);

           $foobar_object = mix_class("Foo", "Bar")->new;
           $digest_class = mix_class("Foo", "Bar", {prefix=>"Digest::"});

           use Class::Mix qw(genpkg);

           $package = genpkg;
           $package = genpkg("Digest::Foo::");

DESCRIPTION
       The "mix_class" function provided by this module dynamically generates
       `anonymous' classes with specified inheritance.

FUNCTIONS
       mix_class(ITEMS ...)
           This function is used to dynamically generate `anonymous' classes
           by mixing pre-existing classes.  This is useful where an incomplete
           class requires use of a mixin in order to become instantiable,
           several suitable mixins are available, and it is desired to make
           the choice between mixins at runtime.

           Each ITEM in the argument list is either the name of a class to
           inherit from (a parent class) or a reference to a hash of options.
           The @ISA list of the mixture class is set to the list of parent
           class names, in the order supplied.  The options that may be
           supplied are:

           mro Specifies the desired method resolution order (MRO) of the
               mixture class.  See mro for details of the valid values and the
               default determined by Perl.  Typically, this should be set to
               c3 if mixing into an existing C3-based class hierarchy.

           prefix
               Specifies where the resulting package will go.  May be "undef"
               to indicate that the caller doesn't care (which is the default
               state).  Otherwise it must be either the empty string (to
               create a top-level package) or a bareword followed by "::" (to
               create a package under that name).  For example, "Digest::"
               could be specified to ensure that the resulting package has a
               name starting with "Digest::", so that "Digest->new" will
               accept it as the name of a message digest algorithm.

           The function generates a class of the form described by the
           arguments, and returns its name.  The same class will be returned
           by repeated invocations with the same parent class list and
           options.  The returned name may be used to call a constructor or
           other class methods of the mixed class.

           A class name must be returned because there is no such thing as an
           anonymous class in Perl.  Classes are referenced by name.  The
           names that are generated by this function are unique and
           insignificant.  See "genpkg" below for more information.

           If fewer than two classes to inherit from are specified, the
           function tries to avoid generating a separate class for the
           mixture.  If only one parent class is specified then that class may
           be returned, and if no parent classes are specified then
           "UNIVERSAL" may be returned.  This provides the desired inheritance
           without creating superfluous classes.  These special cases only
           apply if the options are compatible with the pre-existing class.

           This function relies on the classes it returns remaining unmodified
           in order to be returned by future invocations.  If you want to
           modify your dynamically-generated `anonymous' classes, use "genpkg"
           (below).

       genpkg([PREFIX])
           This function selects and returns a package name that has not been
           previously used.  The name returned is an ordinary bareword-form
           package name, and can be used as the second argument to "bless" and
           in all other ways that package names are used.  The package is
           initially empty.

           The package names returned by this function are of a type that
           should not be used as ordinary fixed module names.  However, it is
           not possible to entirely prevent a clash.  This function checks
           that the package name it is about to return has not already been
           used, and will avoid returning such names, but it cannot guarantee
           that a later-loaded module will not create a clash.

           PREFIX, if present, specifies where the resulting package will go.
           It must be either the empty string (to create a top-level package)
           or a bareword followed by "::" (to create a package under that
           name).  For example, "Digest::" could be specified to ensure that
           the resulting package has a name starting with "Digest::", so that
           "Digest->new" will accept it as the name of a message digest
           algorithm.  If the PREFIX is not supplied, the caller is not
           expressing any preference.

SEE ALSO
       Class::Generate, mro

AUTHOR
       Andrew Main (Zefram) <zefram@fysh.org>

COPYRIGHT
       Copyright (C) 2004, 2006, 2009, 2010, 2011, 2017 Andrew Main (Zefram)
       <zefram@fysh.org>

LICENSE
       This module is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.

perl v5.40.2                      2025-08-09                     Class::Mix(3)
