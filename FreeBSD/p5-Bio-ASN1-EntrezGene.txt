Bio::ASN1::EntrezGene(3)                   User Contributed Perl Documentation


NAME
       Bio::ASN1::EntrezGene - Regular expression-based Perl Parser for NCBI
       Entrez Gene.

VERSION
       version 1.73

SYNOPSIS
         use Bio::ASN1::EntrezGene;

         my $parser = Bio::ASN1::EntrezGene->new('file' => "Homo_sapiens");
         while(my $result = $parser->next_seq)
         {
           # extract data from $result, or Dumpvalue->new->dumpValue($result);
         }

         # a new way to get the $result data hash for a particular gene id:
         use Bio::ASN1::EntrezGene::Indexer;
         my $inx = Bio::ASN1::EntrezGene::Indexer->new(-filename => 'entrezgene.idx');
         my $seq = $inx->fetch_hash(10); # returns $result for Entrez Gene record
                                         # with geneid 10
         # note that the index file 'entrezgene.idx' can be created as follows
         my $inx = Bio::ASN1::EntrezGene::Indexer->new(
           -filename => 'entrezgene.idx',
           -write_flag => 'WRITE');
         $inx->make_index('Homo_sapiens', 'Mus_musculus'); # files come from NCBI download

         # for more detail please refer to Bio::ASN1::EntrezGene::Indexer perldoc

DESCRIPTION
       Bio::ASN1::EntrezGene is a regular expression-based Perl Parser for
       NCBI Entrez Gene genome databases
       (<http://www.ncbi.nih.gov/entrez/query.fcgi?db=gene>).  It parses an
       ASN.1-formatted Entrez Gene record and returns a data structure that
       contains all data items from the gene record.

       The parser will report error & line number if input data does not
       conform to the NCBI Entrez Gene genome annotation file format.

       Note that it is possible to provide reading of all NCBI's
       ASN.1-formatted files through simple variations of the Entrez Gene
       parser (I need more investigation to be sure, but at least the sequence
       parser is a very simple variation on Entrez Gene parser and works
       well).

       It took the parser version 1.0 11 minutes to parse the human genome
       Entrez Gene file on one 2.4 GHz Intel Xeon processor.  The addition of
       validation and error reporting in 1.03 and handling of new Entrez Gene
       format slowed the parser down about 40%.

       Since V1.07, this package also included an indexer that runs pretty
       fast (it takes 21 seconds for the indexer to index the human genome on
       the same processor).  Therefore the combination of the modules would
       allow user to retrieve and parse arbitrary records.

ATTRIBUTES
   maxerrstr
         Parameters: $maxerrstr (optional) - maximum number of characters after
                       offending element, used by error reporting, default is 20
         Example:    $parser->maxerrstr(20);
         Function:   get/set maxerrstr.
         Returns:    maxerrstr.
         Notes:

   input_file
         Parameters: $filename for file that contains Entrez Gene record(s)
         Example:    $parser->input_file($filename);
         Function:   Takes in name of a file containing Entrez Gene records.
                     opens the file and stores file handle
         Returns:    none.
         Notes:      Attempts to open file larger than 2 GB even on Perl that
                       does not support 2 GB file (accomplished by calling
                       "cat" and piping output. On OS that does not have "cat"
                       error message will be displayed)

METHODS
   new
         Parameters: maxerrstr => 20 (optional) - maximum number of characters after
                       offending element, used by error reporting, default is 20
                     file or -file => $filename (optional) - name of the file to be
                       parsed. call next_seq to parse!
                     fh or -fh => $filehandle (optional) - handle of the file to be
                       parsed.
         Example:    my $parser = Bio::ASN1::EntrezGene->new();
         Function:   Instantiate a parser object
         Returns:    Object reference
         Notes:      Setting file or fh will reset line numbers etc. that are used
                       for error reporting purposes, and seeking on file handle would
                       mess up linenumbers!

   parse
         Parameters: $string that contains Entrez Gene record,
                     $trimopt (optional) that specifies how the data structure
                       returned should be trimmed. 2 is recommended and
                       default
                     $noreset (optional) that species that line number should not
                       be reset
                     DEPRECATED as external function!!! Do not call this function
                       directly!  Call next_seq() instead
         Example:    my $value = $parser->parse($text); # DEPRECATED as
                       # external function!!! Do not call this function
                       # directly!  Call next_seq() instead
         Function:   Takes in a string representing Entrez Gene record, parses
                       the record and returns a data structure.
         Returns:    A data structure containing all data items from the Entrez
                       Gene record.
         Notes:      DEPRECATED as external function!!! Do not call this function
                       directly!  Call next_seq() instead
                     $string should not contain 'EntrezGene ::=' at beginning!

   next_seq
         Parameters: $trimopt (optional) that specifies how the data structure
                       returned should be trimmed. option 2 is recommended and
                       default
         Example:    my $value = $parser->next_seq();
         Function:   Use the file handle generated by input_file, parses the next
                       the record and returns a data structure.
         Returns:    A data structure containing all data items from the Entrez
                       Gene record.
         Notes:      Must pass in a filename through new() or input_file() first!
                     For details on how to use the $trimopt data trimming option
                       please see comment for the trimdata method. An option
                       of 2 is recommended and default
                     The acceptable values for $trimopt include:
                       1 - trim as much as possible
                       2 (or 0, undef) - trim to an easy-to-use structure
                       3 - no trimming (in version 1.06, prior to version
                           1.06, 0 or undef means no trimming)

   trimdata
         Parameters: $hashref or $arrayref
                     $trimflag (optional, see Notes)
         Example:    trimdata($datahash); # using the default flag
         Function:   recursively process all attributes of a hash/array
                     hybrid and get rid of any arrayref that points to
                     one-element arrays (trims data structure) depending on
                     the optional flag.
         Returns:    none - trimming happenes in-place
         Notes:      This function is useful to compact a data structure produced by
                       Bio::ASN1::EntrezGene::parse.
                     The acceptable values for $trimopt include:
                       1 - trim as much as possible
                       2 (or 0, undef) - trim to an easy-to-use structure
                       3 - no trimming (in version 1.06, prior to version
                           1.06, 0 or undef means no trimming)

   fh
         Parameters: $filehandle (optional)
         Example:    trimdata($datahash); # using the default flag
         Function:   getter/setter for file handle
         Returns:    file handle for current file being parsed.
         Notes:      Use with care!
                     Line number report would not be corresponding to file's line
                       number if seek operation is performed on the file handle!

   rawdata
         Parameters: none
         Example:    my $data = $parser->rawdata();
         Function:   Get the entrez gene data file that was just parsed
         Returns:    a string containing the ASN1-formatted Entrez Gene record
         Notes:      Must first parse a record then call this function!
                     Could be useful in interpreting line number value in error
                       report (if user did a seek on file handle right before parsing
                       call)

INTERNAL METHODS
   _parse
       NCBI's Apr 05, 2005 format change forced much usage of lookahead, which
       would for sure slows parser down.  But can't code efficiently without
       it.

PREREQUISITE
       None.

INSTALLATION
       Bio::ASN1::EntrezGene package can be installed & tested as follows:

         perl Makefile.PL
         make
         make test
         make install

SEE ALSO
       The parse_entrez_gene_example.pl script included in this package
       (please see the Bio-ASN1-EntrezGene-x.xx/examples directory) is a very
       important and near-complete demo on using this module to extract all
       data items from Entrez Gene records.  Do check it out because in fact,
       this script took me about 3-4 times more time to make for my project
       than the parser V1.0 itself. Note that the example script was edited to
       leave out stuff specific to my internal project.

       For details on various parsers I generated for Entrez Gene, example
       scripts that uses/benchmarks the modules, please see
       <http://sourceforge.net/projects/egparser/>.  Those other parsers etc.
       are included in V1.05 download.

CITATION
       Liu, Mingyi, and Andrei Grigoriev. "Fast parsers for Entrez Gene."
       Bioinformatics 21, no. 14 (2005): 3189-3190.

OPERATION SYSTEMS SUPPORTED
       Any OS that Perl runs on.

FEEDBACK
   Mailing lists
       User feedback is an integral part of the evolution of this and other
       Bioperl modules. Send your comments and suggestions preferably to the
       Bioperl mailing list.  Your participation is much appreciated.

         bioperl-l@bioperl.org              - General discussion
         http://bioperl.org/Support.html    - About the mailing lists

   Support
       Please direct usage questions or support issues to the mailing list:
       bioperl-l@bioperl.org

       rather than to the module maintainer directly. Many experienced and
       reponsive experts will be able look at the problem and quickly address
       it. Please include a thorough description of the problem with code and
       data examples if at all possible.

   Reporting bugs
       Report bugs to the Bioperl bug tracking system to help us keep track of
       the bugs and their resolution. Bug reports can be submitted via the
       web:

         https://github.com/bioperl/bio-asn1-entrezgene/issues

AUTHOR
       Dr. Mingyi Liu <mingyiliu@gmail.com>

COPYRIGHT
       This software is copyright (c) 2005 by Mingyi Liu, 2005 by GPC Biotech
       AG, and 2005 by Altana Research Institute.

       This software is available under the same terms as the perl 5
       programming language system itself.

perl v5.40.2                      2018-09-25          Bio::ASN1::EntrezGene(3)
