FLV::AMFReader(3)     User Contributed Perl Documentation    FLV::AMFReader(3)


NAME
       FLV::AMFReader - Wrapper for the AMF::Perl deserializer

LICENSE
       See FLV::Info

METHODS
       This is a subclass of AMF::Perl::IO::Deserializer.

       That class is optimized for Flash Remoting communications.  We are
       instead just interested in the protocol for the data payload of those
       messages, since that's all that FLV carries.

       So, this class is a hack.  We override the AMF::Perl::IO::Deserializer
       constructor so that it doesn't start parsing immediately.  Also, we
       pass it a string instead of an instantiated AMF::Perl::IO::InputStream.

       Also, as of this writing AMF::Perl was at v0.15, which lacked support
       for hashes.  So, we hack that in.  Hopefully we did it in a future-
       friendly way...

       $pkg->new($content)
           Creates a minimal AMF::Perl::IO::Deserializer instance.

       $self->read_flv_meta()
           Returns an array of anonymous data structures.

           Parse AMF data from a block of FLV data.  This method of very
           lenient.  If there are any parsing errors, that data is just
           ignored and any successfully parsed data is returned.

           We expect there to be exactly two return values, but this method is
           generic and is happy to return anywhere from zero to twenty data.

       $self->readMixedArray()
           Returns a populated hashref.

           This is a workaround for versions of AMF::Perl which did not handle
           hashes (namely v0.15 and earlier).  This method is only installed
           if a method of the same name does not exist in the superclass.

           This should be removed when a newer release of AMF::Perl is
           available.

       $self->readData($type)
           This is a minimal override of readData() in the superclass to add
           support for mixed arrays (aka hashes).

           As above, it is only installed if AMF::Perl::IO::Deserializer lacks
           a readMixedArray() method.

AUTHOR
       See FLV::Info

perl v5.40.2                      2009-03-14                 FLV::AMFReader(3)
