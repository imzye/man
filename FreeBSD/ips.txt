IPS(4)                 FreeBSD Kernel Interfaces Manual                 IPS(4)

NAME
     ips – IBM/Adaptec ServeRAID controller driver

SYNOPSIS
     To compile this driver into the kernel, place the following lines in your
     kernel configuration file:

           device pci
           device scbus
           device ips

     Alternatively, to load the driver as a module at boot time, place the
     following line in loader.conf(5):

           ips_load="YES"

DESCRIPTION
     The ips driver claims to support the IBM (now Adaptec) ServeRAID series
     SCSI controller cards.

     These cards come with a built in configuration utility stored in the
     firmware known as the ISPR.  This utility is accessed with the ⟨Ctrl+I⟩
     key combination during the initial card POST.

     It is highly recommended that this utility be used to configure the card
     before attempting to diagnose the below error messages.

     In some cases, the ips driver can have difficulties attaching during the
     system initialization period.  To avoid these difficulties, set the
     hw.ips.0.disable tunable to 1.  It will prevent the driver from
     attaching.

HARDWARE
     Controllers supported by the ips driver include:

     •   IBM ServeRAID 3H
     •   ServeRAID 4L/4M/4H
     •   ServeRAID Series 5
     •   ServeRAID 6i/6M
     •   ServeRAID 7t/7k/7M

     Newer ServeRAID controllers are supported by the aac(4) or mfi(4) driver.

DIAGNOSTICS
     Several error codes may be shown when the card initializes the IBM ISPR
     utility and are independent of FreeBSD.

     ips%d: failed to get adapter configuration data from device
     ips%d: failed to get drive configuration data from device

     Unable to obtain adapter or drive configuration.

     ips%d iobuf error

     A buffer input/output error has occurred.  [ENXIO]

   General adapter errors:
     Attaching bus failed

     This message is undocumented.

     WARNING: command timeout. Adapter is in toaster mode, resetting

     A command timeout has caused the adapter to be reset.

     AIEE! adapter reset failed, giving up and going home! Have a nice day

     An error occurred while attempting to reset the adapter.

     unable to get adapter configuration
     unable to get drive configuration

     There was an error when attempting to get configuration information.

     Adapter error during initialization.
     adapter initialization failed

     There was an error while attempting to initialize the adapter.

     adapter failed config check
     adapter clear failed

     There was an error while checking the adapter.

     device is disabled

     The adapter is disabled.

     resource allocation failed
     irq allocation failed
     irq setup failed

     The driver was unable to allocate resources for the device.

   Error messages due to DMA:
     can't alloc command dma tag
     can't alloc SG dma tag
     can't alloc dma tag for statue queue
     dmamap failed

     Failure to map or allocate DMA resources.

   Cache, buffer, and command errors:
     failed to initialize command buffers
     no mem for command slots!

     The ips driver will return [ENOMEM] in such cases.

     ERROR: unable to get a command! can't flush cache!
     ERROR: cache flush command failed!
     ERROR: unable to get a command! can't update nvram
     ERROR: nvram update command failed!
     ERROR: unable to get a command! can't sync cache!
     ERROR: cache sync command failed!
     ERROR: unable to get a command! can't sync cache!
     ERROR: etable command failed!

COMPATIBILITY
     Unlike many of the other SCSI devices in FreeBSD, the ips driver does not
     use the cam(4) SCSI subsystem.

SEE ALSO
     aac(4), ch(4), da(4), mfi(4), sysctl(8)

AUTHORS
     The ips driver was written by David Jefferys and Scott Long
     <scottl@FreeBSD.org>.

     This manual page was written by Tom Rhodes <trhodes@FreeBSD.org>.

FreeBSD 13.1-RELEASE-p2         August 7, 2009         FreeBSD 13.1-RELEASE-p2
