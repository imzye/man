HEALTHD(8)              FreeBSD System Manager's Manual             HEALTHD(8)

NAME
     healthd – Motherboard “health” monitor

SYNOPSIS
     healthd [-BLVdl] [-f configfile] [-1|2] [-4] [-6] [-c count] [-t count]
             [-P port] [delay]

DESCRIPTION
     This program provides a facility to read values from the hardware
     monitoring circuitry on modern motherboards and report when the results
     are outside of acceptable bounds set in a configuration file.

     Healthd normally runs in the background and reports error conditions via
     the syslogd(8) facility.  If the “-d” flag is specified, healthd with not
     become a daemon, but will stay in the foreground and display the values
     for all parameters.  This maybe useful to characterize the normal range
     for a motherboard.

     Currently will try it to determine the chipset type, if not is detected
     it will default to W83782D, unless over-ridden by the “-1” flag.  It can
     detect W83781D, W83782D, W83783S, LM78, LM79 and the AS99127F.  The
     AS99127F is SMB only, it has no ISA connection.

OPTIONS
     The following command line options are available.

     -I          Use the ISA bus to access the hardware monitor (Default).

     -S          Use the SMB to access the hardware monitor.  This my require
                 additional lines to be added to the kernel and the kernel to
                 be rebuilt.

     -B          Use the Vbat input on the W83782D type chips for the CPU core
                 voltage of the second CPU.

     -d          Do not detach and become a daemon.  Remain running in the
                 foreground and display all readings in debug mode.

     -l          Only bind the the loopback interfaces, instead of all
                 available network interfaces.

     -f config_file
                 File name of the configuration file to be used.

     -1          Specify the Winbond 83781D, or equivalent, monitor chip
                 (default).

     -2          Specify the Winbond 83782D, or equivalent, monitor chip.

     -4          Don't accept connections on IPv4 addresses.

     -6          Don't accept connections on IPv6 addresses.  This is only
                 available if the systems supports IPv6.  The default is IPv4
                 and IPv6.

     -P port     Use a different port then the default 1281.  This is a
                 different port than previous versions.  The older versions
                 used 9669, however 1281 is the official port number.

     -c count    Repeat the display count times, then exit.  This implies the
                 -d flag.

     -t count    Repeat the display count times.  This is very similar to -c,
                 except the output is a single, tab delimited line.  This
                 format is more useful to be read by another program.  This
                 implies the -d flag.

     -L          Local Only mode.  Don't open any network listening sockets to
                 be used by the healthdc program.

     -V          Display the current version and exit.

     <delay>     The number of seconds between readings of the values.  The
                 default is 5 seconds.

USAGE
     To use the SMB interface the following lines must be added to the kernel.
     And the kernel will need to be rebuilt.  The ASUS AS99127F chip does not
     have an ISA interface and therefore must have SMB capability in the
     kernel.  NOTE: This is only for 4.x versions of FreeBSD.

     controller       smbus0
     controller       iicbus0
     controller       iicbb0
     controller       intpm0
     device           smb0 at smbus?

     Healthd also monitors TCP port 1281 for information requests from
     healthdc. If the system has libwrap installed then it will be used to
     control access to the healthd daemon.

NOTES
     The following signal have the specified effect when sent to the daemon
     process using the kill(1) command:

     SIGHUP  Causes daemon to read healthd.conf or the file specified on the
             commnd line with the -f option.  The counts of values that were
             out of bounds are also reset.

Configuration File
     This file specifies which parameters are active, what they are and their
     acceptable range.  There are 13 different objects that are monitored.
     Three temperatures, three fan speeds and seven voltages.  Each object has
     four configuration items: active, label, min and max.

     Name                 Type
     Temp0_active         yes/no
     Temp0_label          string
     Temp0_min            float
     Temp0_max            float
     Temp1_active         yes/no
     Temp1_label          string
     Temp1_min            float
     Temp1_max            float
     Temp2_active         yes/no
     Temp2_label          string
     Temp2_min            float
     Temp2_max            float
     Temp_warn            string
     Temp_fail            string
     Fan0_active          yes/no
     Fan0_label           string
     Fan0_min             integer
     Fan0_max             integer
     Fan1_active          yes/no
     Fan1_label           string
     Fan1_min             integer
     Fan1_max             integer
     Fan2_active          yes/no
     Fan2_label           string
     Fan2_min             integer
     Fan2_max             integer
     Fan_warn             string
     Fan_fail             string
     Volt0_active         yes/no
     Volt0_label          string
     Volt0_min            float
     Volt0_max            float
     Volt1_active         yes/no
     Volt1_label          string
     Volt1_min            float
     Volt1_max            float
     Volt2_active         yes/no
     Volt2_label          string
     Volt2_min            float
     Volt2_max            float
     Volt3_active         yes/no
     Volt3_label          string
     Volt3_min            float
     Volt3_max            float
     Volt4_active         yes/no
     Volt4_label          string
     Volt4_min            float
     Volt4_max            float
     Volt5_active         yes/no
     Volt5_label          string
     Volt5_min            float
     Volt5_max            float
     Volt6_active         yes/no
     Volt6_label          string
     Volt6_min            float
     Volt6_max            float
     Volt_warn            string
     Volt_fail            string

FILES
     /usr/local/etc/healthd.conf  Configuration file

SEE ALSO
     hosts_access(5), hosts_options(5), healthdc(8)

FreeBSD                         August 16, 2004                        FreeBSD
