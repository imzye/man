Test::Dependencies(3)                      User Contributed Perl Documentation


NAME
       Test::Dependencies - Ensure that the dependency listing is complete

VERSION
       Version 0.34

SYNOPSIS
       In your t/00-dependencies.t:

           use CPAN::Meta;  # or CPAN::Meta::cpanfile
           use File::Find::Rule::Perl;

           use Test::More;
           use Test::Dependencies '0.28' forward_compatible => 1;

           my $meta = CPAN::Meta->load_file('META.json'); # or META.yml
           plan skip_all => 'No META.json' if ! $meta;

           my @files = File::Find::Rule::Perl->perl_files->in('./lib', './bin');
           ok_dependencies($meta, \@files, [qw/runtime configure build test/],
                           undef, # all features in the cpanfile
                           ignores => [ qw/ Your::Namespace Some::Other::Namespace / ]
           );

           done_testing;

DESCRIPTION
       Makes sure that all of the modules that are 'use'd are listed in the
       Makefile.PL as dependencies.

OPTIONS
       DEPRECATED You can pass options to the module via the 'use' line.
       These options will be moved to the ok_dependencies() function.  The
       available options are:

       forward_compatible
           When specified and true, stops the module from outputting a plan,
           which is the default mode of operation when the module becomes 1.0.

       exclude
           Specifies the list of namespaces for which it is ok not to have
           specified dependencies.

       style
           DEPRECATED

           There used to be the option of specifying a style; the heavy style
           depended on B::PerlReq. This module stopped working somewhere
           around Perl 5.20. Specifying a style no longer has any effect.

EXPORTED FUNCTIONS
   ok_dependencies($meta, $files, $phases, $features, %options)
        $meta is a CPAN::Meta object
        $files is an arrayref with files to be scanned

       %options keys

       phases
           This is an arrayref holding one or more names of phases as defined
           by CPAN::Meta::Spec, or undef for all

       features
           This is an arrayref holding zero or more names of features, or
           undef for all

       ignores
           This is a arrayref listing the names of modules (and their sub-
           namespaces) for which no errors are to be reported.

   ok_dependencies()
       Deprecated. Legacy invocation to be removed. In previous versions, this
       function would scan the entire bin/, lib/ and t/ subtrees, with the
       exception of a few sub-directories known to be used by version control
       systems.

       This behaviour has been changed: as of 0.20, Find::File::Rule::Perl is
       being used to find Perl files (*.pl, *.pm, *.t and those starting with
       a shebang line referring to perl).

AUTHORS
       •   Jesse Vincent "<jesse at bestpractical.com>"

       •   Alex Vandiver "<alexmv at bestpractical.com>"

       •   Zev Benjamin "<zev at cpan.org>"

       •   Erik Huelsmann "<ehuels at gmail.com>"

BUGS
       •   Test::Dependencies does not track module version requirements.

       Please report your bugs on GitHub:

          L<https://github.com/ehuelsmann/perl-Test-Dependencies/issues>

SUPPORT
       You can find documentation for this module with the perldoc command.

           perldoc Test::Dependencies

       You can also look for information at:

       •   CPAN Ratings

           <http://cpanratings.perl.org/d/Test-Dependencies>

       •   Search CPAN

           <http://search.cpan.org/dist/Test-Dependencies>

LICENCE AND COPYRIGHT
           Copyright (c) 2016-2023, Erik Huelsmann. All rights reserved.
           Copyright (c) 2007, Best Practical Solutions, LLC. All rights reserved.

           This module is free software; you can redistribute it and/or modify it
           under the same terms as Perl itself. See perlartistic.

           DISCLAIMER OF WARRANTY

           BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
           FOR THE SOFTWARE, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN
           OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
           PROVIDE THE SOFTWARE "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
           EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
           WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE
           ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH
           YOU. SHOULD THE SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
           NECESSARY SERVICING, REPAIR, OR CORRECTION.

           IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
           WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
           REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENCE, BE LIABLE
           TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL, OR
           CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
           SOFTWARE (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
           RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
           FAILURE OF THE SOFTWARE TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
           SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
           DAMAGES.

perl v5.40.2                      2024-11-09             Test::Dependencies(3)
