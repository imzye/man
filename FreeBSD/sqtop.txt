SQTOP(1)                FreeBSD General Commands Manual               SQTOP(1)

NAME
     sqtop â€“ display active client connections for Squid

SYNOPSIS
     sqtop [options]

DESCRIPTION
     sqtop displays information about currently active client connections for
     a Squid proxy in a convenient way.

     Without options, sqtop tries to connect to a Squid proxy listening at
     127.0.0.1 using port 3128.

OPTIONS
     --help  Display a brief help text.

     --host host (-h host)
             Squid proxy host. Defaults to 127.0.0.1.

     --port port (-p port)
             Squid proxy port. Defaults to 3128.

     --pass password (-P password)
             Squid proxy cachemgr_passwd.

     --hosts hostlist (-H hostlist)
             Comma-separated list of client IP addresses (CIDR notation is
             supported) to query the Squid proxy for. Hostnames are silently
             ignored.

     --users userlist (-u userlist)
             Comma-separated list of Squid usernames to list active
             connections for.

     --brief (-b)
             Display brief per-connection information, omits URLs.

     --detail (-d)
             Display detailed information (size, username and average speed)
             for each URL in each connection.

     --full (-f)
             Display full details (size, username, average speed, delay pool
             and elapsed time) for each URL in each connection.

     --zero (-z)
             Display zero values instead of silently omitting them.

     -c      Don't compact the display of multiple occurrences of the same URL
             in a single connection.

     --once (-o)
             Disable interactive mode, just print statistics once to stdout.

     --refreshinterval seconds (-r seconds)
             Set the refresh-interval for interactive mode.

     -n      Don't do hostname lookups.

     -S      Don't strip domain part of hostname.

INTERACTIVE MODE
     If built with support for ncurses(3), sqtop defaults to running in
     interactive mode, occupying the whole screen, unless the --once option
     was specified on the command line.

     Information about the Squid server currently connected to, the version of
     sqtop used, as well as eventual error messages are shown at the top of
     the display.

     The bottom of the display keeps various aggregates, including current and
     average speed, the total number of hosts connected and the total number
     of connections.

     Any option given on the command line can be changed from within
     interactive mode by pressing the key corresponding to its respective
     short option character.

     In addition to the options given on the command line, sqtop recognizes
     the following keys when in interactive mode:

     /           Search for literal substrings in hosts, usernames or URLs.
                 Regular expressions are not parsed, currently.

     <space>     Stop refreshing.

     UP/DOWN, PGUP/PGDN, HOME/END
                 Scroll display.

     <enter>     Toggle displayed level of detail for the currently selected
                 entry.

     ?           Display the help screen, including current settings for
                 options, where applicable.

     C           Compact long urls to fit them on one line.

     s           Toggle mode of display for speed detail between current and
                 average, current only and average only.

     o           Toggle connection sort order between size, current speed,
                 average speed and max time.

     R           Toggle hosts showing mode between host name only, host ip
                 only, both ip and host name.

     q           Quit sqtop

EXAMPLES
     List all currently active connections in interacive mode from
     192.168.2.0/24 and 172.18.118.10 to a Squid proxy running at
     mysquid.example.com, port 8080 using ZePasswd as cachemgr_passwd:
           $ sqtop -h mysquid.example.com -port 8080 -p ZePasswd -H
           192.168.2.0/24,172.18.118.10

DIAGNOSTICS
     The sqtop utility exits 0 on success, and >0 if an error occurs.

SEE ALSO
     The Squid homepage at: http://www.squid-cache.org.

     The sqtop homepage at: https://github.com/paleg/sqtop.

AUTHOR
     sqtop was written by Oleg Palij <o.palij@gmail.com>.

     This man page was originally written by Marco Steinbach
     <coco@executive-computing.de>.

                              September 18, 2010
