RTSX(4)                FreeBSD Kernel Interfaces Manual                RTSX(4)

NAME
     rtsx – Realtek SD card reader

SYNOPSIS
     To compile this driver into the kernel, place the following lines in the
     kernel configuration file:

           device mmc
           device mmcsd
           device rtsx

     Alternatively, to load the driver as a module at boot time, place the
     following lines in loader.conf(5):

           mmc_load="YES"
           mmcsd_load="YES"
           rtsx_load="YES"

DESCRIPTION
     The rtsx driver provides support for Realtek SD card reader.  Driver
     attaches mmc bus on card insertion and detaches it on card removing.

HARDWARE
     The rtsx driver supports different specification compatible chips.  The
     following chips have been verified to work:

     •   RTS5209
     •   RTS5227
     •   RTS5229
     •   RTS522A
     •   RTS525A
     •   RTS5260
     •   RTL8411B

     It should also work for:

     •   RTS5249
     •   RTL8402
     •   RTL8411

SEE ALSO
     mmc(4), mmcsd(4)

     SD Specifications, Part 2, SD Host Controller, Simplified Specification,
     SanDisk Secure Digital Card.

HISTORY
     The rtsx driver was ported from OpenBSD with modifications found in Linux
     and NetBSD.

AUTHORS
     Henri Hennebert <hlh@restart.be>
     Gary Jennejohn <gj@freebsd.org>
     Jesper Schmitz Mouridsen <jsm@FreeBSD.org>

CONTRIBUTORS
     Lutz Bichler <Lutz.Bichler@gmail.com>

DEBUGGING INFORMATION
     dev.rtsx.0.debug_mask can be set with the following masks:

     •   0x01 - to show the basic flow of the driver,

     •   0x02 - to trace the SD commands,

     •   0x04 - to trace the tuning phase.

BUGS
     •   RTS522A on Lenovo T470p, card detection and read-only switch are
         reversed.  This is solved by adding in loader.conf(5):

         dev.rtsx.0.inversion=1

         The driver tries to automate those exceptions.  If this automation is
         wrong, it can be avoided by adding in loader.conf(5):

         dev.rtsx.0.inversion=0

     •   Mounting a filesystem with write access on a card write protected may
         involve a kernel crash.

     •   Suspend/Resume do not work under MMCCAM.

FreeBSD 13.1-RELEASE-p2        February 10, 2022       FreeBSD 13.1-RELEASE-p2
