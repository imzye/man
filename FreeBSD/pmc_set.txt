PMC_SET(3)             FreeBSD Library Functions Manual             PMC_SET(3)

NAME
     pmc_set â€“ set the reload count of a sampling PMC

LIBRARY
     Performance Counters Library (libpmc, -lpmc)

SYNOPSIS
     #include <pmc.h>

     int
     pmc_set(pmc_id_t pmc, pmc_value_t value);

DESCRIPTION
     Function pmc_set() is used to set the reload value of sampling PMCs.
     Argument pmc specified the handle a previously allocate sampling mode
     PMC.  Argument value specifies the reload count.

     Sampling PMCs will interrupt the CPU after the number of hardware events
     specified by the reload count are seen.  After the sampling interrupt is
     processed the underlying hardware will be reloaded with the specified
     count and the hardware automatically restarted by hwpmc(4).

     Function pmc_set() should be called on PMC in a quiescent state.

RETURN VALUES
     The pmc_set() function returns the value 0 if successful; otherwise the
     value -1 is returned and the global variable errno is set to indicate the
     error.

ERRORS
     A call to pmc_set() may fail with the following errors:

     [EINVAL]           The current process did not own a PMC with the
                        specified handle.

     [EBUSY]            The specified PMC was already running.

SEE ALSO
     pmc(3), hwpmc(4)

FreeBSD 13.1-RELEASE-p2        November 25, 2007       FreeBSD 13.1-RELEASE-p2
