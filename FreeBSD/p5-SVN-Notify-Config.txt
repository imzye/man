SVN::Notify::Config(3)                     User Contributed Perl Documentation


NAME
       SVN::Notify::Config - Config-driven Subversion notification

VERSION
       This document describes version 0.0910 of SVN::Notify::Config, released
       March 5, 2008.

SYNOPSIS
       Set this as your Subversion repository's hooks/post-commit:

        #!/usr/bin/perl -MSVN::Notify::Config=$0
        --- #YAML:1.0
        '':
          PATH: "/usr/bin:/usr/local/bin"
        '/path':
          handler: HTML::ColorDiff
          to: project-admin@example.com
        '/path/ignored':
          handler: ~
        '/path/snapshot':
          fork: 1
          handler: Snapshot
          to: "/tmp/tarball-%{%Y%m%d}-${revision}.tar.gz"
        '/path/multitarget':
          to:
            - alice@localhost
            - bob@localhost
            - root@localhost
        '/path/tags':
          handler: Mirror
          to: '/path/to/another/dir'
          tag-regex: "RELEASE_"

       Alternatively, use a config file inside the repository:

        #!/usr/bin/perl -MSVN::Notify::Config=file://$1/svnnotify.yml

DESCRIPTION
       This module is a YAML-based configuration wrapper on SVN::Notify.  Any
       option of the base SVN::Notify or any of its subclasses can be rendered
       in YAML and will be used to perform the appropriate task.  In essence,
       your hook script is your configuration file, so it can be a very
       compact way to use SVN::Notify.

       Notes on a few of the options:

       path
           Each block is contructed as a YAML hash entry whose key is the path
           that triggers that block's action.  This term is evaluated as a
           Perl regex and all path entries are relative to the repository
           root.  You can use very sophisticated mapping between paths and
           handlers.  For example, a new tag under any project goes to all
           developers, but regular commits to branch or trunk go to that
           project list only.

       to  With the core SVN::Notify module, you were required to issue
           multiple to_regex_map entries.  In SVN::Notify::Config, an implicit
           to_regex_map is constructed from the path hash and the array of to:
           elements of the YAML file.

COMPATIBILITY NOTICE
       Versions of SVN::Notify::Config prior to 0.09 contained a subtle error
       in logic which meant that multiple overlapping paths would not all
       fire, but rather only the last block defined would fire.  This does not
       agree with core SVN::Notify behavior, where you could have multiple
       independent to_regex_map entries which would all fire.

       For example, see the '/path' block in the SYNOPSIS, which should
       receive a ColorDiff e-mail for any commit under the other blocks.  If
       you need to replicate the previous behavior, you can use negative
       lookahead's.

AUTHORS
        Autrijus Tang E<lt>autrijus@autrijus.orgE<gt>
        John Peacock E<lt>jpeacock@cpan.orgE<gt>

SEE ALSO
       SVN::Notify

COPYRIGHT
       Copyright (c) 2006-2008 by John Peacock <jpeacock@cpan.org>.  Portions
       copyright 2004-2006 by Autrijus Tang <autrijus@autrijus.org>.

       This program is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.

       See <http://www.perl.com/perl/misc/Artistic.html>

POD ERRORS
       Hey! The above document had some coding errors, which are explained
       below:

       Around line 77:
           You forgot a '=back' before '=head1'

perl v5.40.2                      2025-08-12            SVN::Notify::Config(3)
