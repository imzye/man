Email::Abstract(3)    User Contributed Perl Documentation   Email::Abstract(3)


NAME
       Email::Abstract - unified interface to mail representations

VERSION
       version 3.010

SYNOPSIS
         my $message = Mail::Message->read($rfc822)
                    || Email::Simple->new($rfc822)
                    || Mail::Internet->new([split /\n/, $rfc822])
                    || ...
                    || $rfc822;

         my $email = Email::Abstract->new($message);

         my $subject = $email->get_header("Subject");
         $email->set_header(Subject => "My new subject");

         my $body = $email->get_body;

         $rfc822 = $email->as_string;

         my $mail_message = $email->cast("Mail::Message");

DESCRIPTION
       "Email::Abstract" provides module writers with the ability to write
       simple, representation-independent mail handling code. For instance, in
       the cases of "Mail::Thread" or "Mail::ListDetector", a key part of the
       code involves reading the headers from a mail object. Where previously
       one would either have to specify the mail class required, or to build a
       new object from scratch, "Email::Abstract" can be used to perform
       certain simple operations on an object regardless of its underlying
       representation.

       "Email::Abstract" currently supports "Mail::Internet", "MIME::Entity",
       "Mail::Message", "Email::Simple", "Email::MIME", and "Courriel".  Other
       representations are encouraged to create their own "Email::Abstract::*"
       class by copying "Email::Abstract::EmailSimple".  All modules installed
       under the "Email::Abstract" hierarchy will be automatically picked up
       and used.

PERL VERSION
       This library should run on perls released even a long time ago.  It
       should work on any version of perl released in the last five years.

       Although it may work on older versions of perl, no guarantee is made
       that the minimum required version will not be increased.  The version
       may be increased for any reason, and there is no promise that patches
       will be accepted to lower the minimum required perl.

METHODS
       All of these methods may be called either as object methods or as class
       methods.  When called as class methods, the email object (of any class
       supported by Email::Abstract) must be prepended to the list of
       arguments, like so:

         my $return = Email::Abstract->method($message, @args);

       This is provided primarily for backwards compatibility.

   new
         my $email = Email::Abstract->new($message);

       Given a message, either as a string or as an object for which an
       adapter is installed, this method will return a Email::Abstract object
       wrapping the message.

       If the message is given as a string, it will be used to construct an
       object, which will then be wrapped.

   get_header
         my $header  = $email->get_header($header_name);

         my @headers = $email->get_header($header_name);

       This returns the values for the given header.  In scalar context, it
       returns the first value.

   set_header
         $email->set_header($header => @values);

       This sets the $header header to the given one or more values.

   get_body
         my $body = $email->get_body;

       This returns the body as a string.

   set_body
         $email->set_body($string);

       This changes the body of the email to the given string.

       WARNING!  You probably don't want to call this method, despite what you
       may think.  Email message bodies are complicated, and rely on things
       like content type, encoding, and various MIME requirements.  If you
       call "set_body" on a message more complicated than a single-part seven-
       bit plain-text message, you are likely to break something.  If you need
       to do this sort of thing, you should probably use a specific message
       class from end to end.

       This method is left in place for backwards compatibility.

   as_string
         my $string = $email->as_string;

       This returns the whole email as a decoded string.

   cast
         my $mime_entity = $email->cast('MIME::Entity');

       This method will convert a message from one message class to another.
       It will throw an exception if no adapter for the target class is known,
       or if the adapter does not provide a "construct" method.

   object
         my $message = $email->object;

       This method returns the message object wrapped by Email::Abstract.  If
       called as a class method, it returns false.

       Note that, because strings are converted to message objects before
       wrapping, this method will return an object when the Email::Abstract
       was constructed from a string.

AUTHORS
       •   Ricardo SIGNES <cpan@semiotic.systems>

       •   Simon Cozens <simon@cpan.org>

       •   Casey West <casey@geeknest.com>

CONTRIBUTORS
       •   Dave Rolsky <autarch@urth.org>

       •   Ricardo Signes <rjbs@semiotic.systems>

       •   William Yardley <pep@veggiechinese.net>

COPYRIGHT AND LICENSE
       This software is copyright (c) 2004 by Simon Cozens.

       This is free software; you can redistribute it and/or modify it under
       the same terms as the Perl 5 programming language system itself.

perl v5.40.2                      2023-09-03                Email::Abstract(3)
