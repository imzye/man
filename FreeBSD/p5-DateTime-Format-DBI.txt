DateTime::Format::DBI(3)                   User Contributed Perl Documentation


NAME
       DateTime::Format::DBI - Find a parser class for a database connection.

SYNOPSIS
         use DBI;
         use DateTime;
         use DateTime::Format::DBI;

         my $db = DBI->connect('dbi:...');
         my $db_parser = DateTime::Format::DBI->new($dbh);
         my $dt = DateTime->now();

         $db->do("UPDATE table SET dt=? WHERE foo='bar'",undef,
           $db_parser->format_datetime($dt);

DESCRIPTION
       This module finds a "DateTime::Format::*" class that is suitable for
       the use with a given DBI connection (and "DBD::*" driver).

       It currently supports the following format modules: IBM DB2 (DB2),
       Microsoft SQL (MSSQL), MySQL, Oracle, PostgreSQL (Pg), SQLite, and
       Sybase.

       NOTE: This module provides a quick method to find the correct parser
       and formatter class. However, this is usually not sufficient for full
       database abstraction. You will also have to cater for differences in
       the syntax and semantics of SQL datetime functions (and other SQL
       commands).

CLASS METHODS
       This module provides a single factory method:

       •   new( $dbh )

           Creates a new "DateTime::Format::*" instance, the exact class of
           which depends on the database driver used for the database
           connection referenced by $dbh.

PARSER/FORMATTER INTERFACE
       "DateTime::Format::DBI" is just a front-end class factory that will
       return one of the format classes based on the nature of your $dbh.

       For information on the interface of the returned parser object, please
       see the documentation for the class pertaining to your particular $dbh.

       In general, parser classes for databases will implement the following
       methods.  For more information on the exact behaviour of these methods,
       see the documentation of the parser class.

       •   parse_datetime( $string )

           Given a string containing a date and/or time representation from
           the database used, this method will return a new "DateTime" object.

           If given an improperly formatted string, this method may die.

       •   format_datetime( $dt )

           Given a "DateTime" object, this method returns a string appropriate
           as input for all or the most common date and date/time types of the
           database used.

       •   parse_duration( $string )

           Given a string containing a duration representation from the
           database used, this method will return a new "DateTime::Duration"
           object.

           If given an improperly formatted string, this method may die.

           Not all databases and format/formatter classes support durations;
           please use UNIVERSAL::has to check for the availability of this
           method.

       •   format_duration( $du )

           Given a "DateTime::Duration" object, this method returns a string
           appropriate as input for the duration or interval type of the
           database used.

           Not all databases and parser/formatter classes support durations;
           please use UNIVERSAL::has to check for the availability of this
           method.

       Parser/formatter classes may additionally define methods like
       parse_type or format_type (where type is derived from the SQL type);
       please see the documentation of the individual format class for more
       information.

SUPPORT
       Please report bugs and other requests to the rt tracker:
       <https://rt.cpan.org/Public/Dist/Display.html?Name=DateTime-Format-DBI>.

AUTHOR
       Claus Färber <CFAERBER@cpan.org>

LICENSE
       Copyright 2003-2013 Claus Färber.  All rights reserved.

       This program is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.

       The full text of the license can be found in the LICENSE file included
       with this module.

SEE ALSO
       DateTime, DBI

       datetime@perl.org mailing list

       http://datetime.perl.org/

perl v5.40.2                      2025-08-10          DateTime::Format::DBI(3)
